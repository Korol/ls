$(document).ready(function(){$.AssolDocument={Init:function(){this.InitActions(),this.InitDynamicData(),this.InitTemplate()},InitActions:function(){$(document).on("click",".action-folder-open",function(t){$.AssolDocument.SetParent($(t.target).closest("[record]").attr("record")),$.AssolDocument.ReloadDocumentList()}),$(document).on("click",".action-folder-remove",function(t){confirmRemove(function(){$.AssolDocument.RemoveDocument($(t.target).closest("[record]").attr("record"))})}),$(document).on("click",".action-document-remove",function(t){confirmRemove(function(){$.AssolDocument.RemoveDocument($(t.target).closest("[record]").attr("record"))})})},InitDynamicData:function(){this.ReloadDocumentList()},InitTemplate:function(){$("#documentsTemplate").template("documentsTemplate")},ReloadDocumentList:function(t){this.ReloadData("#documents","documentsTemplate",t)},ReloadData:function(t,e,o){function n(o){o.status?o.records&&($(t).empty(),$.tmpl(e,o.records).appendTo(t)):showErrorAlert(o.message)}$(t).html("Загрузка данных..."),o=o||{Parent:$.AssolDocument.GetParent()},$.post(BaseUrl+"documents/data",o,n,"json")},RemoveDocument:function(t){function e(t){t.status?$.AssolDocument.ReloadDocumentList():showErrorAlert(t.message)}$.post(BaseUrl+"documents/remove",{id:t},e,"json")},parent:0,SetParent:function(t){this.parent=t},GetParent:function(){return this.parent}},$.AssolDocument.Init()});