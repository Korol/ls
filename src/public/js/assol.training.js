$(document).ready(function(){$.AssolTraining={Init:function(){this.InitActions(),this.InitDynamicData(),this.InitTemplate()},InitActions:function(){$(document).on("click",".action-training-add",function(){window.location.href=BaseUrl+"training/"+$.AssolTraining.GetParent()+"/add/file"}),$(document).on("click",".action-training-edit",function(n){window.location.href=BaseUrl+"training/"+$.AssolTraining.GetParent()+"/edit/"+$(n.target).closest("[record]").attr("record")}),$(document).on("click",".action-training-open",function(n){window.location.href=BaseUrl+"training/"+$.AssolTraining.GetParent()+"/show/"+$(n.target).closest("[record]").attr("record")}),$(document).on("click",".action-folder-open",function(n){$.AssolTraining.SetParent($(n.target).closest("[record]").attr("record")),$.AssolTraining.ReloadTrainingList()}),$(document).on("click",".action-folder-remove",function(n){confirmRemove(function(){$.AssolTraining.RemoveTraining($(n.target).closest("[record]").attr("record"))})}),$(document).on("click",".action-document-remove",function(n){confirmRemove(function(){$.AssolTraining.RemoveTraining($(n.target).closest("[record]").attr("record"))})})},InitDynamicData:function(){this.ReloadTrainingList()},InitTemplate:function(){$("#trainingTemplate").template("trainingTemplate")},ReloadTrainingList:function(n){this.ReloadData("#training","trainingTemplate",n)},ReloadData:function(n,t,i){function o(i){i.status?i.records&&($(n).empty(),$.tmpl(t,i.records).appendTo(n)):showErrorAlert(i.message)}$(n).html("Загрузка данных..."),i=i||{Parent:$.AssolTraining.GetParent()},$.post(BaseUrl+"training/data",i,o,"json")},RemoveTraining:function(n){function t(n){n.status?$.AssolTraining.ReloadTrainingList():showErrorAlert(n.message)}$.post(BaseUrl+"training/remove",{id:n},t,"json")},parent:UrlParent,SetParent:function(n){this.parent=n},GetParent:function(){return this.parent}},$.AssolTraining.Init()});