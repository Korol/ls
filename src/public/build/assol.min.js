function htmlEncode(t){return $("<div/>").text(t).html()}function htmlDecode(t){return $("<div/>").html(t).text()}function confirmRemove(t,e,n){e=e||"Вы действительно хотите удалить запись?",n=n||"Удаление записи",bootbox.dialog({message:e,title:n,buttons:{danger:{label:"Удалить",className:"btn-danger",callback:t},main:{label:"Отмена",className:"btn-default"}}})}function isDateField(t){return t.is("input")&&t.parent().hasClass("date-field")}function toClientDate(t){return $.inArray(t,[null,"","0000-00-00","0000-00-00 00:00:00"])>-1?"":moment(t).format("DD.MM.YYYY")}function toClientDateTime(t){return $.inArray(t,[null,"","0000-00-00 00:00:00"])>-1?"":moment(t).format("DD.MM.YYYY HH:mm:ss")}function toServerDate(t){return $.inArray(t,["","0000-00-00"])>-1?null:moment(t,"DD.MM.YYYY").format("YYYY-MM-DD")}function toServerDateTime(t){return $.inArray(t,["","0000-00-00 00:00:00"])>-1?null:moment(t,"DD.MM.YYYY HH:mm:ss").format("YYYY-MM-DD HH:mm:ss")}function initTinymce(t,e){e=e||".tinymce-editor",tinymce.init({selector:e,height:300,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste responsivefilemanager code"],toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent",toolbar2:"responsivefilemanager | link unlink anchor | image media | forecolor backcolor  | print preview code ",language:"ru",paste_data_images:!0,image_advtab:!0,external_filemanager_path:t+"/public/tinymce/filemanager/",filemanager_title:"Файловый менеджер",external_plugins:{filemanager:t+"/public/tinymce/filemanager/plugin.min.js"}})}if(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(window.jQuery)}(function(t){t.fn.numeric=function(e,n){"boolean"==typeof e&&(e={decimal:e,negative:!0,decimalPlaces:-1}),e=e||{},"undefined"==typeof e.negative&&(e.negative=!0);var i=e.decimal===!1?"":e.decimal||".",o=e.negative===!0,s="undefined"==typeof e.decimalPlaces?-1:e.decimalPlaces;return n="function"==typeof n?n:function(){},this.data("numeric.decimal",i).data("numeric.negative",o).data("numeric.callback",n).data("numeric.decimalPlaces",s).keypress(t.fn.numeric.keypress).keyup(t.fn.numeric.keyup).blur(t.fn.numeric.blur)},t.fn.numeric.keypress=function(e){var n=t.data(this,"numeric.decimal"),i=t.data(this,"numeric.negative"),o=t.data(this,"numeric.decimalPlaces"),s=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(13==s&&"input"==this.nodeName.toLowerCase())return!0;if(13==s)return!1;var r=!1;if(e.ctrlKey&&97==s||e.ctrlKey&&65==s)return!0;if(e.ctrlKey&&120==s||e.ctrlKey&&88==s)return!0;if(e.ctrlKey&&99==s||e.ctrlKey&&67==s)return!0;if(e.ctrlKey&&122==s||e.ctrlKey&&90==s)return!0;if(e.ctrlKey&&118==s||e.ctrlKey&&86==s||e.shiftKey&&45==s)return!0;if(s<48||s>57){var a=t(this).val();if(0!==t.inArray("-",a.split(""))&&i&&45==s&&(0===a.length||0===parseInt(t.fn.getSelectionStart(this),10)))return!0;n&&s==n.charCodeAt(0)&&t.inArray(n,a.split(""))!=-1&&(r=!1),8!=s&&9!=s&&13!=s&&35!=s&&36!=s&&37!=s&&39!=s&&46!=s?r=!1:"undefined"!=typeof e.charCode&&(e.keyCode==e.which&&0!==e.which?(r=!0,46==e.which&&(r=!1)):0!==e.keyCode&&0===e.charCode&&0===e.which&&(r=!0)),n&&s==n.charCodeAt(0)&&(r=t.inArray(n,a.split(""))==-1)}else if(r=!0,n&&o>0){var l=t.inArray(n,t(this).val().split(""));l>=0&&t(this).val().length>l+o&&(r=!1)}return r},t.fn.numeric.keyup=function(e){var n=t(this).val();if(n&&n.length>0){var i=t.fn.getSelectionStart(this),o=t.fn.getSelectionEnd(this),s=t.data(this,"numeric.decimal"),r=t.data(this,"numeric.negative"),a=t.data(this,"numeric.decimalPlaces");if(""!==s&&null!==s){var l=t.inArray(s,n.split(""));0===l&&(this.value="0"+n,i++,o++),1==l&&"-"==n.charAt(0)&&(this.value="-0"+n.substring(1),i++,o++),n=this.value}for(var d=[0,1,2,3,4,5,6,7,8,9,"-",s],u=n.length,c=u-1;c>=0;c--){var h=n.charAt(c);0!==c&&"-"==h?n=n.substring(0,c)+n.substring(c+1):0!==c||r||"-"!=h||(n=n.substring(1));for(var f=!1,p=0;p<d.length;p++)if(h==d[p]){f=!0;break}f&&" "!=h||(n=n.substring(0,c)+n.substring(c+1))}var m=t.inArray(s,n.split(""));if(m>0)for(var g=u-1;g>m;g--){var v=n.charAt(g);v==s&&(n=n.substring(0,g)+n.substring(g+1))}if(s&&a>0){var l=t.inArray(s,n.split(""));l>=0&&(n=n.substring(0,l+a+1),o=Math.min(n.length,o))}this.value=n,t.fn.setSelection(this,[i,o])}},t.fn.numeric.blur=function(){var e=t.data(this,"numeric.decimal"),n=t.data(this,"numeric.callback"),i=t.data(this,"numeric.negative"),o=this.value;if(""!==o){var s=new RegExp("^"+(i?"-?":"")+"\\d+$|^"+(i?"-?":"")+"\\d*"+e+"\\d+$");s.exec(o)||n.apply(this)}},t.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).data("numeric.decimalPlaces",null).unbind("keypress",t.fn.numeric.keypress).unbind("keyup",t.fn.numeric.keyup).unbind("blur",t.fn.numeric.blur)},t.fn.getSelectionStart=function(t){if("number"!==t.type){if(t.createTextRange&&document.selection){var e=document.selection.createRange().duplicate();return e.moveEnd("character",t.value.length),""==e.text?t.value.length:Math.max(0,t.value.lastIndexOf(e.text))}try{return t.selectionStart}catch(n){return 0}}},t.fn.getSelectionEnd=function(t){if("number"!==t.type){if(t.createTextRange&&document.selection){var e=document.selection.createRange().duplicate();return e.moveStart("character",-t.value.length),e.text.length}return t.selectionEnd}},t.fn.setSelection=function(t,e){if("number"==typeof e&&(e=[e,e]),e&&e.constructor==Array&&2==e.length)if("number"===t.type)t.focus();else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveStart("character",e[0]),n.moveEnd("character",e[1]-e[0]),n.select()}else{t.focus();try{t.setSelectionRange&&t.setSelectionRange(e[0],e[1])}catch(i){}}}}),function(t){function e(e,n,i,o){var s={data:o||0===o||o===!1?o:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:d,nest:u,wrap:c,html:h,update:f};return e&&t.extend(s,e,{nodes:[],parent:n}),i&&(s.tmpl=i,s._ctnt=s._ctnt||s.tmpl(t,s),s.key=++D,(x.length?b:y)[D]=s),s}function n(e,o,s){var r,a=s?t.map(s,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+e.key+'" $2'):t:n(t,e,t._ctnt)}):e;return o?a:(a=a.join(""),a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,n,o,s){r=t(o).get(),l(r),n&&(r=i(n).concat(r)),s&&(r=r.concat(i(s)))}),r?r:i(a))}function i(e){var n=document.createElement("div");return n.innerHTML=e,t.makeArray(n.childNodes)}function o(e){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,n,i,o,s,a,l){var d,u,c,h=t.tmpl.tag[i];if(!h)throw"Unknown template tag: "+i;return d=h._default||[],a&&!/\w$/.test(s)&&(s+=a,a=""),s?(s=r(s),l=l?","+r(l)+")":a?")":"",u=a?s.indexOf(".")>-1?s+r(a):"("+s+").call($item"+l:s,c=a?u:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"):c=u=d.$1||"null",o=r(o),"');"+h[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(u).split("$2").join(o||d.$2||"")+"__.push('"})+"');}return __;")}function s(e,i){e._wrap=n(e,!0,t.isArray(i)?i:[v.test(i)?i:t(i).html()]).join("")}function r(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function a(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function l(n){function i(n){function i(t){t+=d,r=u[t]=u[t]||e(r,y[r.parent.key+d]||r.parent)}var o,s,r,a,l=n;if(a=n.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(o=l.getAttribute(g)););o!==a&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(r=y[a])||(r=b[a],r=e(r,y[l]||b[l]),r.key=++D,y[D]=r),C&&i(a)),n.removeAttribute(g)}else C&&(r=t.data(n,"tmplItem"))&&(i(r.key),y[r.key]=r,l=t.data(n.parentNode,"tmplItem"),l=l?l.key:0);if(r){for(s=r;s&&s.key!=l;)s.nodes.push(n),s=s.parent;delete r._ctnt,delete r._wrap,t.data(n,"tmplItem",r)}}var o,s,r,a,l,d="_"+C,u={};for(r=0,a=n.length;r<a;r++)if(1===(o=n[r]).nodeType){for(s=o.getElementsByTagName("*"),l=s.length-1;l>=0;l--)i(s[l]);i(o)}}function d(t,e,n,i){return t?void x.push({_:t,tmpl:e,item:this,data:n,options:i}):x.pop()}function u(e,n,i){return t.tmpl(t.template(e),n,i,this)}function c(e,n){var i=e.options||{};return i.wrapped=n,t.tmpl(t.template(e.tmpl),e.data,i,e.item)}function h(e,n){var i=this._wrap;return t.map(t(t.isArray(i)?i.join(""):i).filter(e||"*"),function(t){return n?t.innerText||t.textContent:t.outerHTML||a(t)})}function f(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}var p,m=t.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},b={},w={key:0,data:{}},D=0,C=0,x=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){t.fn[e]=function(i){var o,s,r,a,l=[],d=t(i),u=1===this.length&&this[0].parentNode;if(p=y||{},u&&11===u.nodeType&&1===u.childNodes.length&&1===d.length)d[n](this[0]),l=this;else{for(s=0,r=d.length;s<r;s++)C=s,o=(s>0?this.clone(!0):this).get(),t(d[s])[n](o),l=l.concat(o);C=0,l=this.pushStack(l,e,d.selector)}return a=p,p=null,t.tmpl.complete(a),l}}),t.fn.extend({tmpl:function(e,n,i){return t.tmpl(this[0],e,n,i)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,n,i){if(e[0]&&t.isArray(e[0])){for(var o,s=t.makeArray(arguments),r=e[0],a=r.length,l=0;l<a&&!(o=t.data(r[l++],"tmplItem")););o&&C&&(s[2]=function(e){t.tmpl.afterManip(this,e,i)}),m.apply(this,s)}else m.apply(this,arguments);return C=0,!p&&t.tmpl.complete(y),this}}),t.extend({tmpl:function(i,o,r,a){var l,d=!a;if(d)a=w,i=t.template[i]||t.template(null,i),b={};else if(!i)return i=a.tmpl,y[a.key]=a,a.nodes=[],a.wrapped&&s(a,a.wrapped),t(n(a,null,a.tmpl(t,a)));return i?("function"==typeof o&&(o=o.call(a||{})),r&&r.wrapped&&s(r,r.wrapped),l=t.isArray(o)?t.map(o,function(t){return t?e(r,a,i,t):null}):[e(r,a,i,o)],d?t(n(a,null,l)):l):[]},tmplItem:function(e){var n;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(n=t.data(e,"tmplItem"))&&(e=e.parentNode););return n||w},template:function(e,n){return n?("string"==typeof n?n=o(n):n instanceof t&&(n=n[0]||{}),n.nodeType&&(n=t.data(n,"tmpl")||t.data(n,"tmpl",o(n.innerHTML))),"string"==typeof e?t.template[e]=n:n):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(e,n,i){var o=11===n.nodeType?t.makeArray(n.childNodes):1===n.nodeType?[n]:[];i.call(e,n),l(o),C++}})}(jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,i=t(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==e.offsetX)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var r=i.offset();s.clk_x=e.pageX-r.left,s.clk_y=e.pageY-r.top}else s.clk_x=e.pageX-n.offsetLeft,s.clk_y=e.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var o={};o.fileapi=void 0!==t("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!t.fn.prop;t.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){var i,o,s=t.param(n,e.traditional).split("&"),r=s.length,a=[];for(i=0;r>i;i++)s[i]=s[i].replace(/\+/g," "),o=s[i].split("="),a.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return a}function r(i){for(var o=new FormData,s=0;s<i.length;s++)o.append(i[s].name,i[s].value);if(e.extraData){var r=n(e.extraData);for(s=0;s<r.length;s++)r[s]&&o.append(r[s][0],r[s][1])}e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(a.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,i=t.loaded||t.position,o=t.total;t.lengthComputable&&(n=Math.ceil(i/o*100)),e.uploadProgress(t,i,o,n)},!1),n}),a.data=null;var d=a.beforeSend;return a.beforeSend=function(t,n){n.data=e.formData?e.formData:o,d&&d.call(this,t,n)},t.ajax(a)}function a(n){function o(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){i("cannot get iframe.contentDocument: "+n),e=t.document}return e}function r(){function e(){try{var t=o(v).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){i("Server abort: ",n," (",n.name,")"),a(_),C&&clearTimeout(C),C=void 0}}var n=c.attr2("target"),s=c.attr2("action"),r="multipart/form-data",d=c.attr("enctype")||c.attr("encoding")||r;x.setAttribute("target",p),(!l||/post/i.test(l))&&x.setAttribute("method","POST"),s!=h.url&&x.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(C=setTimeout(function(){D=!0,a(S)},h.timeout));var u=[];try{if(h.extraData)for(var f in h.extraData)h.extraData.hasOwnProperty(f)&&u.push(t.isPlainObject(h.extraData[f])&&h.extraData[f].hasOwnProperty("name")&&h.extraData[f].hasOwnProperty("value")?t('<input type="hidden" name="'+h.extraData[f].name+'">').val(h.extraData[f].value).appendTo(x)[0]:t('<input type="hidden" name="'+f+'">').val(h.extraData[f]).appendTo(x)[0]);h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",a):v.addEventListener("load",a,!1),setTimeout(e,15);try{x.submit()}catch(m){var y=document.createElement("form").submit;y.apply(x)}}finally{x.setAttribute("action",s),x.setAttribute("enctype",d),n?x.setAttribute("target",n):c.removeAttr("target"),t(u).remove()}}function a(e){if(!y.aborted&&!$){if(O=o(v),O||(i("cannot access response document"),e=_),e===S&&y)return y.abort("timeout"),void T.reject(y,"timeout");if(e==_&&y)return y.abort("server abort"),void T.reject(y,"error","server abort");if(O&&O.location.href!=h.iframeSrc||D){v.detachEvent?v.detachEvent("onload",a):v.removeEventListener("load",a,!1);var n,s="success";try{if(D)throw"timeout";var r="xml"==h.dataType||O.XMLDocument||t.isXMLDoc(O);if(i("isXml="+r),!r&&window.opera&&(null===O.body||!O.body.innerHTML)&&--I)return i("requeing onLoad callback, DOM not available"),void setTimeout(a,250);var l=O.body?O.body:O.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=O.XMLDocument?O.XMLDocument:O,r&&(h.dataType="xml"),y.getResponseHeader=function(t){var e={"content-type":h.dataType};return e[t.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var d=(h.dataType||"").toLowerCase(),u=/(json|script|text)/.test(d);if(u||h.textarea){var c=O.getElementsByTagName("textarea")[0];if(c)y.responseText=c.value,y.status=Number(c.getAttribute("status"))||y.status,y.statusText=c.getAttribute("statusText")||y.statusText;else if(u){var p=O.getElementsByTagName("pre")[0],m=O.getElementsByTagName("body")[0];p?y.responseText=p.textContent?p.textContent:p.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==d&&!y.responseXML&&y.responseText&&(y.responseXML=H(y.responseText));try{M=R(y,d,h)}catch(b){s="parsererror",y.error=n=b||s}}catch(b){i("error caught: ",b),s="error",y.error=n=b||s}y.aborted&&(i("upload aborted"),s=null),y.status&&(s=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===s?(h.success&&h.success.call(h.context,M,"success",y),T.resolve(y.responseText,"success",y),f&&t.event.trigger("ajaxSuccess",[y,h])):s&&(void 0===n&&(n=y.statusText),h.error&&h.error.call(h.context,y,s,n),T.reject(y,"error",n),f&&t.event.trigger("ajaxError",[y,h,n])),f&&t.event.trigger("ajaxComplete",[y,h]),f&&!--t.active&&t.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,y,s),$=!0,h.timeout&&clearTimeout(C),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),y.responseXML=null},100)}}}var d,u,h,f,p,g,v,y,b,w,D,C,x=c[0],T=t.Deferred();if(T.abort=function(t){y.abort(t)},n)for(u=0;u<m.length;u++)d=t(m[u]),s?d.prop("disabled",!1):d.removeAttr("disabled");if(h=t.extend(!0,{},t.ajaxSettings,e),h.context=h.context||h,p="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=t(h.iframeTarget),w=g.attr2("name"),w?p=w:g.attr2("name",p)):(g=t('<iframe name="'+p+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(o){}g.attr("src",h.iframeSrc),y.error=n,h.error&&h.error.call(h.context,y,n,e),f&&t.event.trigger("ajaxError",[y,h,n]),h.complete&&h.complete.call(h.context,y,n)}},f=h.global,f&&0===t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[y,h]),h.beforeSend&&h.beforeSend.call(h.context,y,h)===!1)return h.global&&t.active--,T.reject(),T;if(y.aborted)return T.reject(),T;b=x.clk,b&&(w=b.name,w&&!b.disabled&&(h.extraData=h.extraData||{},h.extraData[w]=b.value,"image"==b.type&&(h.extraData[w+".x"]=x.clk_x,h.extraData[w+".y"]=x.clk_y)));var S=1,_=2,k=t("meta[name=csrf-token]").attr("content"),E=t("meta[name=csrf-param]").attr("content");E&&k&&(h.extraData=h.extraData||{},h.extraData[E]=k),h.forceSync?r():setTimeout(r,10);var M,O,$,I=50,H=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},A=t.parseJSON||function(t){return window.eval("("+t+")")},R=function(e,n,i){var o=e.getResponseHeader("content-type")||"",s="xml"===n||!n&&o.indexOf("xml")>=0,r=s?e.responseXML:e.responseText;return s&&"parsererror"===r.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(r=i.dataFilter(r,n)),"string"==typeof r&&("json"===n||!n&&o.indexOf("json")>=0?r=A(r):("script"===n||!n&&o.indexOf("javascript")>=0)&&t.globalEval(r)),r};return T}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,d,u,c=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),d=e.url||this.attr2("action"),u="string"==typeof d?t.trim(d):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=e.traditional;void 0===f&&(f=t.ajaxSettings.traditional);var p,m=[],g=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,p=t.param(e.data,f)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,h]),h.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,f);p&&(v=v?v+"&"+p:p),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var y=[];if(e.resetForm&&y.push(function(){c.resetForm()}),e.clearForm&&y.push(function(){c.clearForm(e.includeHidden)}),!e.dataType&&e.target){var b=e.success||function(){};y.push(function(n){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](n).each(b,arguments)})}else e.success&&y.push(e.success);if(e.success=function(t,n,i){for(var o=e.context||this,s=0,r=y.length;r>s;s++)y[s].apply(o,[t,n,i||c,c])},e.error){var w=e.error;e.error=function(t,n,i){var o=e.context||this;w.apply(o,[t,n,i,c])}}if(e.complete){var D=e.complete;e.complete=function(t,n){var i=e.context||this;D.apply(i,[t,n,c])}}var C=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),x=C.length>0,T="multipart/form-data",S=c.attr("enctype")==T||c.attr("encoding")==T,_=o.fileapi&&o.formdata;i("fileAPI :"+_);var k,E=(x||S)&&!_;e.iframe!==!1&&(e.iframe||E)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){k=a(g)}):k=a(g):k=(x||S)&&_?r(g):t.ajax(e),c.removeData("jqxhr").data("jqxhr",k);for(var M=0;M<m.length;M++)m[M]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(o){if(o=o||{},o.delegation=o.delegation&&t.isFunction(t.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(s.s,s.c).ajaxForm(o)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return o.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,e).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,e).bind("click.form-plugin",o,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var i=[];if(0===this.length)return i;var s,r=this[0],a=this.attr("id"),l=e?r.getElementsByTagName("*"):r.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=t(l).get()),a&&(s=t(':input[form="'+a+'"]').get(),s.length&&(l=(l||[]).concat(s))),!l||!l.length)return i;var d,u,c,h,f,p,m;for(d=0,p=l.length;p>d;d++)if(f=l[d],c=f.name,c&&!f.disabled)if(e&&r.clk&&"image"==f.type)r.clk==f&&(i.push({name:c,value:t(f).val(),type:f.type}),i.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}));else if(h=t.fieldValue(f,!0),h&&h.constructor==Array)for(n&&n.push(f),u=0,m=h.length;m>u;u++)i.push({name:c,value:h[u]});else if(o.fileapi&&"file"==f.type){n&&n.push(f);var g=f.files;if(g.length)for(u=0;u<g.length;u++)i.push({name:c,value:g[u],type:f.type});else i.push({name:c,value:"",type:f.type})}else null!==h&&"undefined"!=typeof h&&(n&&n.push(f),i.push({name:c,value:h,type:f.type,required:f.required}));if(!e&&r.clk){var v=t(r.clk),y=v[0];c=y.name,c&&!y.disabled&&"image"==y.type&&(i.push({name:c,value:v.val()}),i.push({name:c+".x",value:r.clk_x},{name:c+".y",value:r.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var o=t.fieldValue(this,e);if(o&&o.constructor==Array)for(var s=0,r=o.length;r>s;s++)n.push({name:i,value:o[s]});else null!==o&&"undefined"!=typeof o&&n.push({name:this.name,value:o})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,o=this.length;o>i;i++){var s=this[i],r=t.fieldValue(s,e);null===r||"undefined"==typeof r||r.constructor==Array&&!r.length||(r.constructor==Array?t.merge(n,r):n.push(r))}return n},t.fieldValue=function(e,n){var i=e.name,o=e.type,s=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||e.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!e.checked||("submit"==o||"image"==o)&&e.form&&e.form.clk!=e||"select"==s&&-1==e.selectedIndex))return null;if("select"==s){var r=e.selectedIndex;if(0>r)return null;for(var a=[],l=e.options,d="select-one"==o,u=d?r+1:l.length,c=d?r:0;u>c;c++){var h=l[c];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),d)return f;a.push(f)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return kt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){Dt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var n=!0;return p(function(){return n&&(o(t),n=!1),e.apply(this,arguments)},e)}function r(t,e){ye[t]||(o(e),ye[t]=!0)}function a(t,e){return function(n){return v(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function d(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return 0>e-s?(n=t.clone().add(o-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(o+1,"months"),i=(e-s)/(n-s)),-(o+i)}function u(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function c(){}function h(t,e){e!==!1&&H(t),m(this,t),this._d=new Date((+t._d)),we===!1&&(we=!0,Dt.updateOffset(this),we=!1)}function f(t){var e=_(t),n=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*a,this._days=+r+7*s,this._months=+o+3*i+12*n,this._data={},this._locale=Dt.localeData(),this._bubble()}function p(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var n,i,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ft.length>0)for(n in Ft)i=Ft[n],o=e[i],"undefined"!=typeof o&&(t[i]=o);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,n){for(var i=""+Math.abs(t),o=t>=0;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}function y(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function b(t,e){var n;return e=L(e,t),t.isBefore(e)?n=y(t,e):(n=y(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function w(t,e){return function(n,i){var o,s;return null===i||isNaN(+i)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,o=Dt.duration(n,i),D(this,o,t),this}}function D(t,e,n,i){var o=e._milliseconds,s=e._days,r=e._months;i=null==i||i,o&&t._d.setTime(+t._d+o*n),s&&mt(t,"Date",pt(t,"Date")+s*n),r&&ft(t,pt(t,"Month")+r*n),i&&Dt.updateOffset(t,s||r)}function C(t){return"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function T(t,e,n){var i,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&E(t[i])!==E(e[i]))&&r++;return r+s}function S(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ce[t]||he[e]||e}return t}function _(t){var e,i,o={};for(i in t)n(t,i)&&(e=S(i),e&&(o[e]=t[i]));return o}function k(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}Dt[e]=function(o,s){var r,a,l=Dt._locale[e],d=[];if("number"==typeof o&&(s=o,o=t),a=function(t){var e=Dt().utc().set(i,t);return l.call(Dt._locale,e,o||"")},null!=s)return a(s);for(r=0;n>r;r++)d.push(a(r));return d}}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function M(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function O(t,e,n){return dt(Dt([t,11,31+e-n]),e,n).week}function $(t){return I(t)?366:365}function I(t){return t%4===0&&t%100!==0||t%400===0}function H(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Mt]<0||t._a[Mt]>11?Mt:t._a[Ot]<1||t._a[Ot]>M(t._a[Et],t._a[Mt])?Ot:t._a[$t]<0||t._a[$t]>24||24===t._a[$t]&&(0!==t._a[It]||0!==t._a[Ht]||0!==t._a[At])?$t:t._a[It]<0||t._a[It]>59?It:t._a[Ht]<0||t._a[Ht]>59?Ht:t._a[At]<0||t._a[At]>999?At:-1,t._pf._overflowDayOfYear&&(Et>e||e>Ot)&&(e=Ot),t._pf.overflow=e)}function A(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function R(t){return t?t.toLowerCase().replace("_","-"):t}function F(t){for(var e,n,i,o,s=0;s<t.length;){for(o=R(t[s]).split("-"),e=o.length,n=R(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=N(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&T(o,n,!0)>=e-1)break;e--}s++}return null}function N(t){var e=null;if(!Rt[t]&&Nt)try{e=Dt.locale(),require("./locale/"+t),Dt.locale(e)}catch(n){}return Rt[t]}function L(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Dt.isMoment(t)||x(t)?+t:+Dt(t))-+n,n._d.setTime(+n._d+i),
Dt.updateOffset(n,!1),n):Dt(t).local()}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,i=t.match(jt);for(e=0,n=i.length;n>e;e++)i[e]=ve[i[e]]?ve[i[e]]:Y(i[e]);return function(o){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(o,t):i[e];return s}}function j(t,e){return t.isValid()?(e=z(e,t.localeData()),fe[e]||(fe[e]=P(e)),fe[e](t)):t.localeData().invalidDate()}function z(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(zt.lastIndex=0;i>=0&&zt.test(t);)t=t.replace(zt,n),zt.lastIndex=0,i-=1;return t}function W(t,e){var n,i=e._strict;switch(t){case"Q":return Jt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return i?ne:Gt;case"Y":case"G":case"g":return oe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ie:Ut;case"S":if(i)return Jt;case"SS":if(i)return te;case"SSS":if(i)return ee;case"DDD":return Bt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return qt;case"a":case"A":return e._locale._meridiemParse;case"x":return Xt;case"X":return Qt;case"Z":case"ZZ":return Zt;case"T":return Kt;case"SSSS":return Vt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?te:Wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Wt;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(Q(X(t.replace("\\","")),"i"))}}function B(t){t=t||"";var e=t.match(Zt)||[],n=e[e.length-1]||[],i=(n+"").match(de)||["-",0,0],o=+(60*i[1])+E(i[2]);return"+"===i[0]?o:-o}function G(t,e,n){var i,o=n._a;switch(t){case"Q":null!=e&&(o[Mt]=3*(E(e)-1));break;case"M":case"MM":null!=e&&(o[Mt]=E(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?o[Mt]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(o[Ot]=E(e));break;case"Do":null!=e&&(o[Ot]=E(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=E(e));break;case"YY":o[Et]=Dt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":o[Et]=E(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":o[$t]=E(e);break;case"m":case"mm":o[It]=E(e);break;case"s":case"ss":o[Ht]=E(e);break;case"S":case"SS":case"SSS":case"SSSS":o[At]=E(1e3*("0."+e));break;case"x":n._d=new Date(E(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=B(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=E(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=Dt.parseTwoDigitYear(e)}}function U(t){var n,i,o,s,r,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(r=1,a=4,i=e(n.GG,t._a[Et],dt(Dt(),1,4).year),o=e(n.W,1),s=e(n.E,1)):(r=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[Et],dt(Dt(),r,a).year),o=e(n.w,1),null!=n.d?(s=n.d,r>s&&++o):s=null!=n.e?n.e+r:r),l=ut(i,o,s,a,r),t._a[Et]=l.year,t._dayOfYear=l.dayOfYear}function V(t){var n,i,o,s,r=[];if(!t._d){for(o=Z(t),t._w&&null==t._a[Ot]&&null==t._a[Mt]&&U(t),t._dayOfYear&&(s=e(t._a[Et],o[Et]),t._dayOfYear>$(s)&&(t._pf._overflowDayOfYear=!0),i=st(s,0,t._dayOfYear),t._a[Mt]=i.getUTCMonth(),t._a[Ot]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=r[n]=o[n];for(;7>n;n++)t._a[n]=r[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[$t]&&0===t._a[It]&&0===t._a[Ht]&&0===t._a[At]&&(t._nextDay=!0,t._a[$t]=0),t._d=(t._useUTC?st:ot).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[$t]=24)}}function q(t){var e;t._d||(e=_(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],V(t))}function Z(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function K(e){if(e._f===Dt.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var n,i,o,s,r,a=""+e._i,l=a.length,d=0;for(o=z(e._f,e._locale).match(jt)||[],n=0;n<o.length;n++)s=o[n],i=(a.match(W(s,e))||[])[0],i&&(r=a.substr(0,a.indexOf(i)),r.length>0&&e._pf.unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),d+=i.length),ve[s]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(s),G(s,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-d,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[$t]<=12&&(e._pf.bigHour=t),e._a[$t]=u(e._locale,e._a[$t],e._meridiem),V(e),H(e)}function X(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,o,s,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[s],K(e),A(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==o||o>r)&&(o=r,n=e));p(t,n||e)}function tt(t){var e,n,i=t._i,o=se.exec(i);if(o){for(t._pf.iso=!0,e=0,n=ae.length;n>e;e++)if(ae[e][1].exec(i)){t._f=ae[e][0]+(o[6]||" ");break}for(e=0,n=le.length;n>e;e++)if(le[e][1].exec(i)){t._f+=le[e][0];break}i.match(Zt)&&(t._f+="Z"),K(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,Dt.createFromInputFallback(t))}function nt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function it(e){var n,i=e._i;i===t?e._d=new Date:x(i)?e._d=new Date((+i)):null!==(n=Lt.exec(i))?e._d=new Date((+n[1])):"string"==typeof i?et(e):C(i)?(e._a=nt(i.slice(0),function(t){return parseInt(t,10)}),V(e)):"object"==typeof i?q(e):"number"==typeof i?e._d=new Date(i):Dt.createFromInputFallback(e)}function ot(t,e,n,i,o,s,r){var a=new Date(t,e,n,i,o,s,r);return 1970>t&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function at(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function lt(t,e,n){var i=Dt.duration(t).abs(),o=_t(i.as("s")),s=_t(i.as("m")),r=_t(i.as("h")),a=_t(i.as("d")),l=_t(i.as("M")),d=_t(i.as("y")),u=o<pe.s&&["s",o]||1===s&&["m"]||s<pe.m&&["mm",s]||1===r&&["h"]||r<pe.h&&["hh",r]||1===a&&["d"]||a<pe.d&&["dd",a]||1===l&&["M"]||l<pe.M&&["MM",l]||1===d&&["y"]||["yy",d];return u[2]=e,u[3]=+t>0,u[4]=n,at.apply({},u)}function dt(t,e,n){var i,o=n-e,s=n-t.day();return s>o&&(s-=7),o-7>s&&(s+=7),i=Dt(t).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ut(t,e,n,i,o){var s,r,a=st(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:o,s=o-a+(a>i?7:0)-(o>a?7:0),r=7*(e-1)+(n-o)+s+1,{year:r>0?t:t-1,dayOfYear:r>0?r:$(t-1)+r}}function ct(e){var n,i=e._i,o=e._f;return e._locale=e._locale||Dt.localeData(e._l),null===i||o===t&&""===i?Dt.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),Dt.isMoment(i)?new h(i,(!0)):(o?C(o)?J(e):K(e):it(e),n=new h(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function ht(t,e){var n,i;if(1===e.length&&C(e[0])&&(e=e[0]),!e.length)return Dt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ft(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),M(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function pt(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,n){return"Month"===e?ft(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function gt(t,e){return function(n){return null!=n?(mt(this,t,n),Dt.updateOffset(this,e),this):pt(this,t)}}function vt(t){return 400*t/146097}function yt(t){return 146097*t/400}function bt(t){Dt.duration.fn[t]=function(){return this._data[t]}}function wt(t){"undefined"==typeof ender&&(Ct=St.moment,St.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Dt):Dt)}for(var Dt,Ct,xt,Tt="2.9.0",St="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,_t=Math.round,kt=Object.prototype.hasOwnProperty,Et=0,Mt=1,Ot=2,$t=3,It=4,Ht=5,At=6,Rt={},Ft=[],Nt="undefined"!=typeof module&&module&&module.exports,Lt=/^\/?Date\((\-?\d+)/i,Yt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,jt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,zt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wt=/\d\d?/,Bt=/\d{1,3}/,Gt=/\d{1,4}/,Ut=/[+\-]?\d{1,6}/,Vt=/\d+/,qt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zt=/Z|[\+\-]\d\d:?\d\d/gi,Kt=/T/i,Xt=/[\+\-]?\d+/,Qt=/[\+\-]?\d+(\.\d{1,3})?/,Jt=/\d/,te=/\d\d/,ee=/\d{3}/,ne=/\d{4}/,ie=/[+-]?\d{6}/,oe=/[+-]?\d+/,se=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re="YYYY-MM-DDTHH:mm:ssZ",ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],de=/([\+\-]|\d\d)/gi,ue=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ce={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},he={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fe={},pe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return E(this.milliseconds()/100)},SS:function(){return v(E(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(E(t/60),2)+":"+v(E(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(E(t/60),2)+v(E(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ye={},be=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],we=!1;me.length;)xt=me.pop(),ve[xt+"o"]=l(ve[xt],xt);for(;ge.length;)xt=ge.pop(),ve[xt+xt]=a(ve[xt],2);ve.DDDD=a(ve.DDD,3),p(c.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,o,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=Dt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Dt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return dt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Dt=function(e,n,o,s){var r;return"boolean"==typeof o&&(s=o,o=t),r={},r._isAMomentObject=!0,r._i=e,r._f=n,r._l=o,r._strict=s,r._isUTC=!1,r._pf=i(),ct(r)},Dt.suppressDeprecationWarnings=!1,Dt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Dt.min=function(){var t=[].slice.call(arguments,0);return ht("isBefore",t)},Dt.max=function(){var t=[].slice.call(arguments,0);return ht("isAfter",t)},Dt.utc=function(e,n,o,s){var r;return"boolean"==typeof o&&(s=o,o=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=o,r._i=e,r._f=n,r._strict=s,r._pf=i(),ct(r).utc()},Dt.unix=function(t){return Dt(1e3*t)},Dt.duration=function(t,e){var i,o,s,r,a=t,l=null;return Dt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Yt.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:E(l[Ot])*i,h:E(l[$t])*i,m:E(l[It])*i,s:E(l[Ht])*i,ms:E(l[At])*i}):(l=Pt.exec(t))?(i="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=b(Dt(a.from),Dt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),o=new f(a),Dt.isDuration(t)&&n(t,"_locale")&&(o._locale=t._locale),o},Dt.version=Tt,Dt.defaultFormat=re,Dt.ISO_8601=function(){},Dt.momentProperties=Ft,Dt.updateOffset=function(){},Dt.relativeTimeThreshold=function(e,n){return pe[e]!==t&&(n===t?pe[e]:(pe[e]=n,!0))},Dt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return Dt.locale(t,e)}),Dt.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?Dt.defineLocale(t,e):Dt.localeData(t),n&&(Dt.duration._locale=Dt._locale=n)),Dt._locale._abbr},Dt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Rt[t]||(Rt[t]=new c),Rt[t].set(e),Dt.locale(t),Rt[t]):(delete Rt[t],null)},Dt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return Dt.localeData(t)}),Dt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Dt._locale;if(!C(t)){if(e=N(t))return e;t=[t]}return F(t)},Dt.isMoment=function(t){return t instanceof h||null!=t&&n(t,"_isAMomentObject")},Dt.isDuration=function(t){return t instanceof f};for(xt=be.length-1;xt>=0;--xt)k(be[xt]);Dt.normalizeUnits=function(t){return S(t)},Dt.invalid=function(t){var e=Dt.utc(NaN);return null!=t?p(e._pf,t):e._pf.userInvalidated=!0,e},Dt.parseZone=function(){return Dt.apply(null,arguments).parseZone()},Dt.parseTwoDigitYear=function(t){return E(t)+(E(t)>68?1900:2e3)},Dt.isDate=x,p(Dt.fn=h.prototype,{clone:function(){return Dt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date((+this)):this._d},toISOString:function(){var t=Dt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&T(this._a,(this._isUTC?Dt.utc(this._a):Dt(this._a)).toArray())>0)},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=j(this,t||Dt.defaultFormat);return this.localeData().postformat(e)},add:w(1,"add"),subtract:w(-1,"subtract"),diff:function(t,e,n){var i,o,s=L(t,this),r=6e4*(s.utcOffset()-this.utcOffset());return e=S(e),"year"===e||"month"===e||"quarter"===e?(o=d(this,s),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-s,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-r)/864e5:"week"===e?(i-r)/6048e5:i),n?o:g(o)},from:function(t,e){return Dt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(Dt(),t)},calendar:function(t){var e=t||Dt(),n=L(e,this).startOf("day"),i=this.diff(n,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Dt(e)))},isLeapYear:function(){return I(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=rt(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=S(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Dt.isMoment(t)?t:Dt(t),+this>+t):(n=Dt.isMoment(t)?+t:+Dt(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Dt.isMoment(t)?t:Dt(t),+t>+this):(n=Dt.isMoment(t)?+t:+Dt(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=S(e||"millisecond"),"millisecond"===e?(t=Dt.isMoment(t)?t:Dt(t),+this===+t):(n=+Dt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=Dt.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=Dt.apply(null,arguments),t>this?this:t}),zone:s("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=B(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?D(this,Dt.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Dt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(B(this._i)),this},hasAlignedHourOffset:function(t){return t=t?Dt(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(t){var e=_t((Dt(this).startOf("day")-Dt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=dt(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=dt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return O(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return O(this.year(),t.dow,t.doy)},get:function(t){return t=S(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=S(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var n;return e===t?this._locale._abbr:(n=Dt.localeData(e),null!=n&&(this._locale=n),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Dt.fn.millisecond=Dt.fn.milliseconds=gt("Milliseconds",!1),Dt.fn.second=Dt.fn.seconds=gt("Seconds",!1),Dt.fn.minute=Dt.fn.minutes=gt("Minutes",!1),Dt.fn.hour=Dt.fn.hours=gt("Hours",!0),Dt.fn.date=gt("Date",!0),Dt.fn.dates=s("dates accessor is deprecated. Use date instead.",gt("Date",!0)),Dt.fn.year=gt("FullYear",!0),Dt.fn.years=s("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),Dt.fn.days=Dt.fn.day,Dt.fn.months=Dt.fn.month,Dt.fn.weeks=Dt.fn.week,Dt.fn.isoWeeks=Dt.fn.isoWeek,Dt.fn.quarters=Dt.fn.quarter,Dt.fn.toJSON=Dt.fn.toISOString,Dt.fn.isUTC=Dt.fn.isUtc,p(Dt.duration.fn=f.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,o=this._days,s=this._months,r=this._data,a=0;r.milliseconds=i%1e3,t=g(i/1e3),r.seconds=t%60,e=g(t/60),r.minutes=e%60,n=g(e/60),r.hours=n%24,o+=g(n/24),a=g(vt(o)),o-=g(yt(a)),s+=g(o/30),o%=30,a+=g(s/12),s%=12,r.days=o,r.months=s,r.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=Dt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=Dt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=S(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=S(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*vt(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:Dt.fn.lang,locale:Dt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||s?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Dt.duration.fn.toString=Dt.duration.fn.toISOString;for(xt in ue)n(ue,xt)&&bt(xt.toLowerCase());Dt.duration.fn.asMilliseconds=function(){return this.as("ms")},Dt.duration.fn.asSeconds=function(){return this.as("s")},Dt.duration.fn.asMinutes=function(){return this.as("m")},Dt.duration.fn.asHours=function(){return this.as("h")},Dt.duration.fn.asDays=function(){return this.as("d")},Dt.duration.fn.asWeeks=function(){return this.as("weeks")},Dt.duration.fn.asMonths=function(){return this.as("M")},Dt.duration.fn.asYears=function(){return this.as("y")},Dt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Nt?module.exports=Dt:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(St.moment=Ct),Dt}),wt(!0)):wt()}.call(this),function(t,e,n,i){if(t.ion=t.ion||{},!ion.sound){var o=function(e){if(e||(e="undefined"),t.console){console.warn&&"function"==typeof console.warn?console.warn(e):console.log&&"function"==typeof console.log&&console.log(e);var i=n&&n("#debug");if(i&&i.length){var o=i.html();i.html(o+e+"<br/>")}}},s=function(t,e){var n;e=e||{};for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};if("function"!=typeof Audio&&"object"!=typeof Audio)e=function(){o("HTML5 Audio is not supported in this browser")},ion.sound=e,ion.sound.play=e,ion.sound.stop=e,ion.sound.pause=e,ion.sound.preload=e,ion.sound.destroy=e,e();else{e=/iPad|iPhone|iPod/.test(e.appVersion);var r,a=0,l={},d={};!l.supported&&e?l.supported=["mp3","mp4","aac"]:l.supported||(l.supported=["mp3","ogg","mp4","aac","wav"]),ion.sound=function(t){if(s(t,l),l.path=l.path||"",l.volume=l.volume||1,l.preload=l.preload||!1,l.multiplay=l.multiplay||!1,l.loop=l.loop||!1,l.sprite=l.sprite||null,l.scope=l.scope||null,l.ready_callback=l.ready_callback||null,l.ended_callback=l.ended_callback||null,a=l.sounds.length)for(r=0;r<a;r++){t=l.sounds[r];var e=t.alias||t.name;d[e]||(d[e]=new c(t),d[e].init())}else o("No sound-files provided!")},ion.sound.VERSION="3.0.6",ion.sound._method=function(t,e,n){if(e)d[e]&&d[e][t](n);else for(r in d)d.hasOwnProperty(r)&&d[r]&&d[r][t](n)},ion.sound.preload=function(t,e){e=e||{},s({preload:!0},e),ion.sound._method("init",t,e)},ion.sound.destroy=function(t){if(ion.sound._method("destroy",t),t)d[t]=null;else for(r in d)d.hasOwnProperty(r)&&d[r]&&(d[r]=null)},ion.sound.play=function(t,e){ion.sound._method("play",t,e)},ion.sound.stop=function(t,e){ion.sound._method("stop",t,e)},ion.sound.pause=function(t,e){ion.sound._method("pause",t,e)},ion.sound.volume=function(t,e){ion.sound._method("volume",t,e)},n&&(n.ionSound=ion.sound),e=t.AudioContext||t.webkitAudioContext;var u;e&&(u=new e);var c=function(t){this.options=s(l),delete this.options.sounds,s(t,this.options),this.request=null,this.streams={},this.result={},this.ext=0,this.url="",this.autoplay=this.no_file=this.decoded=this.loaded=!1};c.prototype={init:function(t){t&&s(t,this.options),this.options.preload&&this.load()},destroy:function(){var t;for(r in this.streams)(t=this.streams[r])&&t.destroy();this.streams={},this.result=null,this.options=this.options.buffer=null,this.request&&(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request.abort(),this.request=null)},createUrl:function(){var t=(new Date).valueOf();this.url=this.options.path+encodeURIComponent(this.options.name)+"."+this.options.supported[this.ext]+"?"+t},load:function(){this.no_file?o('No sources for "'+this.options.name+'" sound :('):(this.createUrl(),this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.responseType="arraybuffer",this.request.addEventListener("load",this.ready.bind(this),!1),
this.request.addEventListener("error",this.error.bind(this),!1),this.request.send())},reload:function(){this.ext++,this.options.supported[this.ext]?this.load():(this.no_file=!0,o('No sources for "'+this.options.name+'" sound :('))},ready:function(t){this.result=t.target,4!==this.result.readyState?this.reload():200!==this.result.status&&0!==this.result.status?(o(this.url+" was not found on server!"),this.reload()):(this.request.removeEventListener("load",this.ready.bind(this),!1),this.request.removeEventListener("error",this.error.bind(this),!1),this.request=null,this.loaded=!0,this.decode())},decode:function(){u&&u.decodeAudioData(this.result.response,this.setBuffer.bind(this),this.error.bind(this))},setBuffer:function(t){if(this.options.buffer=t,this.decoded=!0,t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:this.options.buffer.duration},this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.options.sprite)for(r in this.options.sprite)this.options.start=this.options.sprite[r][0],this.options.end=this.options.sprite[r][1],this.streams[r]=new h(this.options,r);else this.streams[0]=new h(this.options);this.autoplay&&(this.autoplay=!1,this.play())},error:function(){this.reload()},play:function(t){if(delete this.options.part,t&&s(t,this.options),this.loaded){if(!this.no_file&&this.decoded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options)}else this.options.preload||(this.autoplay=!0,this.load())},stop:function(t){if(this.options.sprite)if(t)this.streams[t.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(t){if(this.options.sprite)if(t)this.streams[t.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(t){if(t)if(s(t,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}};var h=function(t,e){this.alias=t.alias,this.name=t.name,this.sprite_part=e,this.buffer=t.buffer,this.start=t.start||0,this.end=t.end||this.buffer.duration,this.multiplay=t.multiplay||!1,this.volume=t.volume||1,this.scope=t.scope,this.ended_callback=t.ended_callback,this.setLoop(t),this.gain=this.source=null,this.paused=this.playing=!1,this.time_offset=this.time_played=this.time_ended=this.time_started=0};h.prototype={destroy:function(){this.stop(),this.source=this.buffer=null,this.gain&&this.gain.disconnect(),this.source&&this.source.disconnect(),this.source=this.gain=null},setLoop:function(t){this.loop=!0===t.loop?9999999:"number"==typeof t.loop&&+t.loop-1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||(this.gain=u.createGain(),this.source=u.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gain),this.gain.connect(u.destination),this.gain.gain.value=this.volume,this.source.onended=this.ended.bind(this),this._play())},_play:function(){var t,e;this.paused?(t=this.start+this.time_offset,e=this.end-this.time_offset):(t=this.start,e=this.end),0>=e?this.clear():("function"==typeof this.source.start?this.source.start(0,t,e):this.source.noteOn(0,t,e),this.playing=!0,this.paused=!1,this.time_started=(new Date).valueOf())},stop:function(){this.playing&&this.source&&("function"==typeof this.source.stop?this.source.stop(0):this.source.noteOff(0)),this.clear()},pause:function(){this.paused?this.play():this.playing&&(this.source&&this.source.stop(0),this.paused=!0)},ended:function(){this.playing=!1,this.time_ended=(new Date).valueOf(),this.time_played=(this.time_ended-this.time_started)/1e3,this.time_offset+=this.time_played,(this.time_offset>=this.end||.015>this.end-this.time_offset)&&(this._ended(),this.clear(),this.loop&&(this.loop--,this.play()))},_ended:function(){var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t)},clear:function(){this.time_offset=this.time_played=0,this.playing=this.paused=!1},setVolume:function(t){this.volume=t.volume,this.gain&&(this.gain.gain.value=this.volume)}},u||(function(){var t,e,n=new Audio,i=n.canPlayType("audio/mpeg"),o=n.canPlayType("audio/ogg"),n=n.canPlayType('audio/mp4; codecs="mp4a.40.2"');for(e=0;e<l.supported.length;e++)t=l.supported[e],i||"mp3"!==t||l.supported.splice(e,1),o||"ogg"!==t||l.supported.splice(e,1),n||"aac"!==t||l.supported.splice(e,1),n||"mp4"!==t||l.supported.splice(e,1)}(),c.prototype={init:function(t){t&&s(t,this.options),this.inited=!0,this.options.preload&&this.load()},destroy:function(){var t;for(r in this.streams)(t=this.streams[r])&&t.destroy();this.streams={},this.inited=this.loaded=!1},load:function(){var t;if(this.options.preload=!0,this.options._ready=this.ready,this.options._scope=this,this.options.sprite)for(r in this.options.sprite)t=this.options.sprite[r],this.options.start=t[0],this.options.end=t[1],this.streams[r]=new h(this.options,r);else this.streams[0]=new h(this.options)},ready:function(t){this.loaded||(this.loaded=!0,t={name:this.options.name,alias:this.options.alias,ext:this.options.supported[this.ext],duration:t},this.options.ready_callback&&"function"==typeof this.options.ready_callback&&this.options.ready_callback.call(this.options.scope,t),this.autoplay&&(this.autoplay=!1,this.play()))},play:function(t){if(this.inited)if(delete this.options.part,t&&s(t,this.options),this.loaded)if(this.options.sprite)if(this.options.part)this.streams[this.options.part].play(this.options);else for(r in this.options.sprite)this.streams[r].play(this.options);else this.streams[0].play(this.options);else this.options.preload||(this.autoplay=!0,this.load())},stop:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].stop();else for(r in this.options.sprite)this.streams[r].stop();else this.streams[0].stop()},pause:function(t){if(this.inited)if(this.options.sprite)if(t)this.streams[t.part].pause();else for(r in this.options.sprite)this.streams[r].pause();else this.streams[0].pause()},volume:function(t){if(t)if(s(t,this.options),this.options.sprite)if(this.options.part)(t=this.streams[this.options.part])&&t.setVolume(this.options);else for(r in this.options.sprite)(t=this.streams[r])&&t.setVolume(this.options);else(t=this.streams[0])&&t.setVolume(this.options)}},h=function(t,e){this.name=t.name,this.alias=t.alias,this.sprite_part=e,this.multiplay=t.multiplay,this.volume=t.volume,this.preload=t.preload,this.path=l.path,this.start=t.start||0,this.end=t.end||0,this.scope=t.scope,this.ended_callback=t.ended_callback,this._scope=t._scope,this._ready=t._ready,this.setLoop(t),this.url=this.sound=null,this.loaded=!1,this.played_time=this.paused_time=this.start_time=0,this.init()},h.prototype={init:function(){this.sound=new Audio,this.sound.volume=this.volume,this.createUrl(),this.sound.addEventListener("ended",this.ended.bind(this),!1),this.sound.addEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.addEventListener("timeupdate",this._update.bind(this),!1),this.load()},destroy:function(){this.stop(),this.sound.removeEventListener("ended",this.ended.bind(this),!1),this.sound.removeEventListener("canplaythrough",this.can_play_through.bind(this),!1),this.sound.removeEventListener("timeupdate",this._update.bind(this),!1),this.sound=null,this.loaded=!1},createUrl:function(){var t=(new Date).valueOf();this.url=this.path+encodeURIComponent(this.name)+"."+l.supported[0]+"?"+t},can_play_through:function(){this.preload&&this.ready()},load:function(){this.sound.src=this.url,this.sound.preload=this.preload?"auto":"none",this.preload&&this.sound.load()},setLoop:function(t){this.loop=!0===t.loop?9999999:"number"==typeof t.loop&&+t.loop-1},update:function(t){this.setLoop(t),"volume"in t&&(this.volume=t.volume)},ready:function(){!this.loaded&&this.sound&&(this.loaded=!0,this._ready.call(this._scope,this.sound.duration),this.end||(this.end=this.sound.duration))},play:function(t){t&&this.update(t),!this.multiplay&&this.playing||this._play()},_play:function(){if(this.paused)this.paused=!1;else try{this.sound.currentTime=this.start}catch(t){}this.playing=!0,this.start_time=(new Date).valueOf(),this.sound.volume=this.volume,this.sound.play()},stop:function(){if(this.playing){this.paused=this.playing=!1,this.sound.pause(),this.clear();try{this.sound.currentTime=this.start}catch(t){}}},pause:function(){this.paused?this._play():(this.playing=!1,this.paused=!0,this.sound.pause(),this.paused_time=(new Date).valueOf(),this.played_time+=this.paused_time-this.start_time)},_update:function(){this.start_time&&(this.played_time+((new Date).valueOf()-this.start_time))/1e3>=this.end&&this.playing&&(this.stop(),this._ended())},ended:function(){this.playing&&(this.stop(),this._ended())},_ended:function(){this.playing=!1;var t={name:this.name,alias:this.alias,part:this.sprite_part,start:this.start,duration:this.end};this.ended_callback&&"function"==typeof this.ended_callback&&this.ended_callback.call(this.scope,t),this.loop&&setTimeout(this.looper.bind(this),15)},looper:function(){this.loop--,this.play()},clear:function(){this.paused_time=this.played_time=this.start_time=0},setVolume:function(t){this.volume=t.volume,this.sound&&(this.sound.volume=this.volume)}})}}}(window,navigator,window.jQuery||window.$),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var r=t("#"===s?[]:s);e&&e.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),s="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,s)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",s=i.data();e+="Text",null==s.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),r="string"==typeof e?e:s.slide;o||i.data("bs.carousel",o=new n(this,s)),"number"==typeof e?o.to(e):r?o[r]():s.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,s=(n+o)%this.$items.length;return this.$items.eq(s)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),s=i||this.getItemForDirection(e,o),r=this.interval,a="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var d=s[0],u=t.Event("slide.bs.carousel",{relatedTarget:d,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:d,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(a),s.addClass(a),o.one("bsTransitionEnd",function(){s.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),r&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),s=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=t.extend({},s.data(),o.data()),a=o.attr("data-slide-to");a&&(r.interval=!1),e.call(s,r),a&&s.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),o||n.data("bs.collapse",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var s=e(o),r=s.data("bs.collapse"),a=r?"toggle":o.data();n.call(s,a)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(s).each(function(){var i=t(this),o=e(i),s={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",s)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var s=e(o),r=s.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(s.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),r=o.hasClass("open");if(!r&&27!=n.which||r&&27==n.which)return 27==n.which&&o.find(s).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var d=l.index(n.target);38==n.which&&d>0&&d--,40==n.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),s=o.data("bs.modal"),r=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);s||o.data("bs.modal",s=new n(this,r)),"string"==typeof e?s[e](i):r.show&&s.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),s=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),s="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.tooltip",o=new n(this,s)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),
n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(a);d&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=s[0].offsetWidth,h=s[0].offsetHeight;if(d){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+h>p.bottom?"top":"top"==a&&u.top-h<p.top?"bottom":"right"==a&&u.right+c>p.width?"left":"left"==a&&u.left-c<p.left?"right":a,s.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,c,h);this.applyPlacement(m,a);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,s=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;"top"==n&&d!=s&&(e.top=e.top+s-d);var u=this.getViewportAdjustedDelta(n,e,l,d);u.left?e.left+=u.left:e.top+=u.top;var c=/top|bottom/.test(n),h=c?2*u.left-o+l:2*u.top-s+d,f=c?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],c)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&s.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=window.SVGElement&&n instanceof window.SVGElement,r=i?{top:0,left:0}:s?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,l,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+i;a<r.top?o.top=r.top-a:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var d=e.left-s,u=e.left+s+n;d<r.left?o.left=r.left-d:u>r.right&&(o.left=r.left+r.width-u)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),s="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||i.data("bs.popover",o=new n(this,s)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),s="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,s)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return r!=(t=s[s.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),a=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),r.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),s="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=s.top)&&"bottom":!(o+r<=t-i)&&"bottom";var a=null==this.affixed,l=a?o:s.top,d=a?r:e;return null!=n&&o<=n?"top":null!=i&&l+d>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,s=i.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var a=this.getState(r,e,o,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-s})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){var e=0,n=function(e,n){this.options=n,this.$elementFilestyle=[],this.$element=t(e)};n.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(t){if(t===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(t!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(t){if(t===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(t!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(t){if(t===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(t!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(t){if(t===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(t!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var e=this.pushNameFiles();e.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(t){if(void 0===t)return this.options.size;var e=this.$elementFilestyle.find("label"),n=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm"),n.removeClass("input-lg input-sm"),"nr"!=t&&(e.addClass("btn-"+t),n.addClass("input-"+t))},placeholder:function(t){return void 0===t?this.options.placeholder:(this.options.placeholder=t,void this.$elementFilestyle.find("input").attr("placeholder",t))},buttonText:function(t){return void 0===t?this.options.buttonText:(this.options.buttonText=t,void this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText))},buttonName:function(t){return void 0===t?this.options.buttonName:(this.options.buttonName=t,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(t){return void 0===t?this.options.iconName:void this.$elementFilestyle.find(".icon-span-filestyle").attr({"class":"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var t="",e=[];void 0===this.$element[0].files?e[0]={name:this.$element[0]&&this.$element[0].value}:e=this.$element[0].files;for(var n=0;n<e.length;n++)t+=e[n].name.split("\\").pop()+", ";return""!==t?this.$elementFilestyle.find(":text").val(t.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),e},constructor:function(){var n=this,i="",o=n.$element.attr("id"),s="";""!==o&&o||(o="filestyle-"+e,n.$element.attr({id:o}),e++),s='<span class="group-span-filestyle '+(n.options.input?"input-group-btn":"")+'"><label for="'+o+'" class="btn '+n.options.buttonName+" "+("nr"==n.options.size?"":"btn-"+n.options.size)+'" '+(n.options.disabled?'disabled="true"':"")+">"+n.htmlIcon()+'<span class="buttonText">'+n.options.buttonText+"</span></label></span>",i=n.options.buttonBefore?s+n.htmlInput():n.htmlInput()+s,n.$elementFilestyle=t('<div class="bootstrap-filestyle input-group">'+i+"</div>"),n.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(t){if(13===t.keyCode||32===t.charCode)return n.$elementFilestyle.find("label").click(),!1}),n.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(n.$elementFilestyle),n.options.disabled&&n.$element.attr("disabled","true"),n.$element.change(function(){var t=n.pushNameFiles();0==n.options.input&&n.options.badge?0==n.$elementFilestyle.find(".badge").length?n.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"):0==t.length?n.$elementFilestyle.find(".badge").remove():n.$elementFilestyle.find(".badge").html(t.length):n.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&n.$elementFilestyle.find("label").click(function(){return n.$element.click(),!1})}};var i=t.fn.filestyle;t.fn.filestyle=function(e,i){var o="",s=this.each(function(){if("file"===t(this).attr("type")){var s=t(this),r=s.data("filestyle"),a=t.extend({},t.fn.filestyle.defaults,e,"object"==typeof e&&e);r||(s.data("filestyle",r=new n(this,a)),r.constructor()),"string"==typeof e&&(o=r[e](i))}});return void 0!==typeof o?o:s},t.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},t.fn.filestyle.noConflict=function(){return t.fn.filestyle=i,this},t(function(){t(".filestyle").each(function(){var e=t(this),n={input:"false"!==e.attr("data-input"),icon:"false"!==e.attr("data-icon"),buttonBefore:"true"===e.attr("data-buttonBefore"),disabled:"true"===e.attr("data-disabled"),size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:"false"!==e.attr("data-badge"),placeholder:e.attr("data-placeholder")};e.filestyle(n)})})}(window.jQuery),function(){"use strict";if(navigator.userAgent.match(/IEMobile\/10\.0/)){var t=document.createElement("style");t.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(t)}}(),!function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var o,s,r,a,l,d,u,c={},h=!0,f=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],D={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},C={},x=function(t){var n,o,s,r,a,l=!1;return void 0!==e.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone&&(l=!0),void 0===t||null===t?n=l?e().tz(i.timeZone).startOf("d"):e().startOf("d"):l?(o=e().tz(i.timeZone).utcOffset(),s=e(t,d,i.useStrict).utcOffset(),s!==o?(r=e().tz(i.timeZone).format("Z"),a=e(t,d,i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+r,n=e(a,d,i.useStrict).tz(i.timeZone)):n=e(t,d,i.useStrict).tz(i.timeZone)):n=e(t,d,i.useStrict),n},T=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},S=function(){return T("h")||T("m")||T("s")},_=function(){return T("y")||T("M")||T("d")},k=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},E=function(){var e=t("<tr>"),n=t("<tr>"),o=t("<tr>");return T("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),T("m")&&(T("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),T("s")&&(T("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),a||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),o.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,o]))},M=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),o=[E()];return T("h")&&o.push(e),T("m")&&o.push(n),T("s")&&o.push(i),o},O=function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&_()&&S()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},$=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(k()),o=t("<div>").addClass("timepicker").append(M()),s=t("<ul>").addClass("list-unstyled"),r=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(O());return i.inline&&e.removeClass("dropdown-menu"),a&&e.addClass("usetwentyfour"),T("s")&&!a&&e.addClass("wider"),i.sideBySide&&_()&&S()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(r),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(r),e):("top"===i.toolbarPlacement&&s.append(r),_()&&s.append(t("<li>").addClass(i.collapse&&S()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&s.append(r),S()&&s.append(t("<li>").addClass(i.collapse&&_()?"collapse":"").append(o)),"bottom"===i.toolbarPlacement&&s.append(r),e.append(s))},I=function(){var e,o={};return e=n.is("input")||i.inline?n.data():n.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(o[t]=e[n])}),o},H=function(){var e,o=(f||n).position(),s=(f||n).offset(),r=i.widgetPositioning.vertical,a=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(p);else if(n.is("input"))e=n.after(p).parent();else{if(i.inline)return void(e=n.append(p));e=n,n.children().first().after(p)}if("auto"===r&&(r=s.top+1.5*p.height()>=t(window).height()+t(window).scrollTop()&&p.height()+n.outerHeight()<s.top?"top":"bottom"),"auto"===a&&(a=e.width()<s.left+p.outerWidth()/2&&s.left+p.outerWidth()>t(window).width()?"right":"left"),"top"===r?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===a?p.addClass("pull-right"):p.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===r?"auto":o.top+n.outerHeight(),bottom:"top"===r?o.top+n.outerHeight():"auto",left:"left"===a?e===n?0:o.left:"auto",right:"left"===a?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:o.left)})},A=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},R=function(t){"y"===t&&(t="YYYY"),A({type:"dp.update",change:t,viewDate:s.clone()})},F=function(t){p&&(t&&(u=Math.max(m,Math.min(3,u+t))),p.find(".datepicker > div").hide().filter(".datepicker-"+g[u].clsName).show())},N=function(){var e=t("<tr>"),n=s.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(s.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(e)},L=function(t){return i.disabledDates[t.format("YYYY-MM-DD")]===!0},Y=function(t){return i.enabledDates[t.format("YYYY-MM-DD")]===!0},P=function(t){return i.disabledHours[t.format("H")]===!0},j=function(t){return i.enabledHours[t.format("H")]===!0},z=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&L(e))return!1;if(i.enabledDates&&"d"===n&&!Y(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&P(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!j(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var o=!1;if(t.each(i.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(o=!0,!1):void 0}),o)return!1}return!0},W=function(){for(var e=[],n=s.clone().startOf("y").startOf("d");n.isSame(s,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(e)},B=function(){var e=p.find(".datepicker-months"),n=e.find("th"),r=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),
z(s.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(s.year()),z(s.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),r.removeClass("active"),o.isSame(s,"y")&&!h&&r.eq(o.month()).addClass("active"),r.each(function(e){z(s.clone().month(e),"M")||t(this).addClass("disabled")})},G=function(){var t=p.find(".datepicker-years"),e=t.find("th"),n=s.clone().subtract(5,"y"),r=s.clone().add(6,"y"),a="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+r.year()),i.maxDate&&i.maxDate.isBefore(r,"y")&&e.eq(2).addClass("disabled");!n.isAfter(r,"y");)a+='<span data-action="selectYear" class="year'+(n.isSame(o,"y")&&!h?" active":"")+(z(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(a)},U=function(){var t=p.find(".datepicker-decades"),n=t.find("th"),r=e({y:s.year()-s.year()%100-1}),a=r.clone().add(100,"y"),l=r.clone(),d="";for(n.eq(0).find("span").attr("title",i.tooltips.prevCentury),n.eq(2).find("span").attr("title",i.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(r.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(r,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(r.year()+"-"+a.year()),(r.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(a,"y"))&&n.eq(2).addClass("disabled");!r.isAfter(a,"y");)d+='<span data-action="selectDecade" class="decade'+(r.isSame(o,"y")?" active":"")+(z(r,"y")?"":" disabled")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>",r.add(12,"y");d+="<span></span><span></span><span></span>",t.find("td").html(d),n.eq(1).text(l.year()+1+"-"+r.year())},V=function(){var e,n,r,a,l=p.find(".datepicker-days"),d=l.find("th"),u=[];if(_()){for(d.eq(0).find("span").attr("title",i.tooltips.prevMonth),d.eq(1).attr("title",i.tooltips.selectMonth),d.eq(2).find("span").attr("title",i.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),d.eq(1).text(s.format(i.dayViewHeaderFormat)),z(s.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),z(s.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),e=s.clone().startOf("M").startOf("w").startOf("d"),a=0;42>a;a++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),u.push(n)),r="",e.isBefore(s,"M")&&(r+=" old"),e.isAfter(s,"M")&&(r+=" new"),e.isSame(o,"d")&&!h&&(r+=" active"),z(e,"d")||(r+=" disabled"),e.isSame(x(),"d")&&(r+=" today"),(0===e.day()||6===e.day())&&(r+=" weekend"),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+r+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(u),B(),G(),U()}},q=function(){var e=p.find(".timepicker-hours table"),n=s.clone().startOf("d"),i=[],o=t("<tr>");for(s.hour()>11&&!a&&n.hour(12);n.isSame(s,"d")&&(a||s.hour()<12&&n.hour()<12||s.hour()>11);)n.hour()%4===0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectHour" class="hour'+(z(n,"h")?"":" disabled")+'">'+n.format(a?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},Z=function(){for(var e=p.find(".timepicker-minutes table"),n=s.clone().startOf("h"),o=[],r=t("<tr>"),a=1===i.stepping?5:i.stepping;s.isSame(n,"h");)n.minute()%(4*a)===0&&(r=t("<tr>"),o.push(r)),r.append('<td data-action="selectMinute" class="minute'+(z(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(a,"m");e.empty().append(o)},K=function(){for(var e=p.find(".timepicker-seconds table"),n=s.clone().startOf("m"),i=[],o=t("<tr>");s.isSame(n,"m");)n.second()%20===0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectSecond" class="second'+(z(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},X=function(){var t,e,n=p.find(".timepicker span[data-time-component]");a||(t=p.find(".timepicker [data-action=togglePeriod]"),e=o.clone().add(o.hours()>=12?-12:12,"h"),t.text(o.format("A")),z(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(o.format(a?"HH":"hh")),n.filter("[data-time-component=minutes]").text(o.format("mm")),n.filter("[data-time-component=seconds]").text(o.format("ss")),q(),Z(),K()},Q=function(){p&&(V(),X())},J=function(t){var e=h?null:o;return t?(t=t.clone().locale(i.locale),1!==i.stepping&&t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping%60).seconds(0),void(z(t)?(o=t,s=o.clone(),r.val(o.format(l)),n.data("date",o.format(l)),h=!1,Q(),A({type:"dp.change",date:o.clone(),oldDate:e})):(i.keepInvalid||r.val(h?"":o.format(l)),A({type:"dp.error",date:t})))):(h=!0,r.val(""),n.data("date",""),A({type:"dp.change",date:!1,oldDate:e}),void Q())},tt=function(){var e=!1;return p?(p.find(".collapse").each(function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)}),e?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),p.hide(),t(window).off("resize",H),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,A({type:"dp.hide",date:o.clone()}),r.blur(),c)):c},et=function(){J(null)},nt={next:function(){var t=g[u].navFnc;s.add(g[u].navStep,t),V(),R(t)},previous:function(){var t=g[u].navFnc;s.subtract(g[u].navStep,t),V(),R(t)},pickerSwitch:function(){F(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));s.month(n),u===m?(J(o.clone().year(s.year()).month(s.month())),i.inline||tt()):(F(-1),V()),R("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;s.year(n),u===m?(J(o.clone().year(s.year())),i.inline||tt()):(F(-1),V()),R("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;s.year(n),u===m?(J(o.clone().year(s.year())),i.inline||tt()):(F(-1),V()),R("YYYY")},selectDay:function(e){var n=s.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),J(n.date(parseInt(t(e.target).text(),10))),S()||i.keepOpen||i.inline||tt()},incrementHours:function(){var t=o.clone().add(1,"h");z(t,"h")&&J(t)},incrementMinutes:function(){var t=o.clone().add(i.stepping,"m");z(t,"m")&&J(t)},incrementSeconds:function(){var t=o.clone().add(1,"s");z(t,"s")&&J(t)},decrementHours:function(){var t=o.clone().subtract(1,"h");z(t,"h")&&J(t)},decrementMinutes:function(){var t=o.clone().subtract(i.stepping,"m");z(t,"m")&&J(t)},decrementSeconds:function(){var t=o.clone().subtract(1,"s");z(t,"s")&&J(t)},togglePeriod:function(){J(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,o=t(e.target),s=o.closest("ul"),r=s.find(".in"),a=s.find(".collapse:not(.in)");if(r&&r.length){if(n=r.data("collapse"),n&&n.transitioning)return;r.collapse?(r.collapse("hide"),a.collapse("show")):(r.removeClass("in"),a.addClass("in")),o.is("span")?o.toggleClass(i.icons.time+" "+i.icons.date):o.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);a||(o.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),J(o.clone().hours(n)),nt.showPicker.call(c)},selectMinute:function(e){J(o.clone().minutes(parseInt(t(e.target).text(),10))),nt.showPicker.call(c)},selectSecond:function(e){J(o.clone().seconds(parseInt(t(e.target).text(),10))),nt.showPicker.call(c)},clear:et,today:function(){var t=x();z(t,"d")&&J(t)},close:tt},it=function(e){return!t(e.currentTarget).is(".disabled")&&(nt[t(e.currentTarget).data("action")].apply(c,arguments),!1)},ot=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return r.prop("disabled")||!i.ignoreReadonly&&r.prop("readonly")||p?c:(void 0!==r.val()&&0!==r.val().trim().length?J(rt(r.val().trim())):i.useCurrent&&h&&(r.is("input")&&0===r.val().trim().length||i.inline)&&(e=x(),"string"==typeof i.useCurrent&&(e=n[i.useCurrent](e)),J(e)),p=$(),N(),W(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),Q(),F(),t(window).on("resize",H),p.on("click","[data-action]",it),p.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),p.show(),H(),i.focusOnShow&&!r.is(":focus")&&r.focus(),A({type:"dp.show"}),c)},st=function(){return p?tt():ot()},rt=function(t){return t=void 0===i.parseInputDate?e.isMoment(t)||t instanceof Date?e(t):x(t):i.parseInputDate(t),t.locale(i.locale),t},at=function(t){var e,n,o,s,r=null,a=[],l={},d=t.which,u="p";C[d]=u;for(e in C)C.hasOwnProperty(e)&&C[e]===u&&(a.push(e),parseInt(e,10)!==d&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&(o=e.split(" "),o.length===a.length&&D[d]===o[o.length-1])){for(s=!0,n=o.length-2;n>=0;n--)if(!(D[o[n]]in l)){s=!1;break}if(s){r=i.keyBinds[e];break}}r&&(r.call(c,p),t.stopPropagation(),t.preventDefault())},lt=function(t){C[t.which]="r",t.stopPropagation(),t.preventDefault()},dt=function(e){var n=t(e.target).val().trim(),i=n?rt(n):null;return J(i),e.stopImmediatePropagation(),!1},ut=function(){r.on({change:dt,blur:i.debug?"":tt,keydown:at,keyup:lt,focus:i.allowInputToggle?ot:""}),n.is("input")?r.on({focus:ot}):f&&(f.on("click",st),f.on("mousedown",!1))},ct=function(){r.off({change:dt,blur:blur,keydown:at,keyup:lt,focus:i.allowInputToggle?tt:""}),n.is("input")?r.off({focus:ot}):f&&(f.off("click",st),f.off("mousedown",!1))},ht=function(e){var n={};return t.each(e,function(){var t=rt(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},ft=function(e){var n={};return t.each(e,function(){n[this]=!0}),!!Object.keys(n).length&&n},pt=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=o.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return o.localeData().longDateFormat(t)||t})}),d=i.extraFormats?i.extraFormats.slice():[],d.indexOf(t)<0&&d.indexOf(l)<0&&d.push(l),a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(m=2),T("M")&&(m=1),T("d")&&(m=0),u=Math.max(m,u),h||J(o)};if(c.destroy=function(){tt(),ct(),n.removeData("DateTimePicker"),n.removeData("date")},c.toggle=st,c.show=ot,c.hide=tt,c.disable=function(){return tt(),f&&f.hasClass("btn")&&f.addClass("disabled"),r.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),r.prop("disabled",!1),c},c.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,c},c.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(void 0===c[t])throw new TypeError("option "+t+" is not recognized!");c[t](e)}),c},c.date=function(t){if(0===arguments.length)return h?null:o.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return J(null===t?null:rt(t)),c},c.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return i.format=t,l&&pt(),c},c.timeZone=function(t){return 0===arguments.length?i.timeZone:(i.timeZone=t,c)},c.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,c},c.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,d&&pt(),c},c.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,Q(),c;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=ht(e),i.enabledDates=!1,Q(),c},c.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,Q(),c;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=ht(e),i.disabledDates=!1,Q(),c},c.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,Q(),c;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!z(o,"d");){if(o.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}J(o)}return Q(),c},c.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&t===!1)return i.maxDate=!1,Q(),c;"string"==typeof t&&("now"===t||"moment"===t)&&(t=x());var e=rt(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&o.isAfter(t)&&J(i.maxDate),s.isAfter(e)&&(s=e.clone().subtract(i.stepping,"m")),Q(),c},c.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&t===!1)return i.minDate=!1,Q(),c;"string"==typeof t&&("now"===t||"moment"===t)&&(t=x());var e=rt(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&o.isBefore(t)&&J(i.minDate),s.isBefore(e)&&(s=e.clone().add(i.stepping,"m")),Q(),c},c.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,c;"string"==typeof t&&("now"===t||"moment"===t)&&(t=x());var e=rt(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!z(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===r.val().trim())&&J(i.defaultDate),c},c.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,o.locale(i.locale),s.locale(i.locale),l&&pt(),p&&(tt(),ot()),c},c.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),i.stepping=t,c)},c.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,c},c.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?c:(i.collapse=t,p&&(tt(),ot()),c)},c.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),p&&(tt(),ot()),c},c.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),p&&(tt(),ot()),c},c.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,c},c.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,p&&(tt(),ot()),c},c.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=t,u=Math.max(v.indexOf(t),m),F(),c},c.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=t,p&&(tt(),ot()),c},c.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===b.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return Q(),c},c.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,Q(),c},c.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,p&&(tt(),ot()),c},c.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,p&&(tt(),ot()),c},c.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,p&&(tt(),ot()),c},c.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,c},c.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,c},c.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,c},c.clear=function(){return et(),c},c.keyBinds=function(t){return i.keyBinds=t,c},c.getMoment=function(t){return x(t)},c.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,c},c.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,c},c.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,c},c.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,c},c.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,c},c.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,c},c.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,Q(),c;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,Q(),c},c.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,Q(),c;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=ft(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}J(o)}return Q(),c},c.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,Q(),c;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=ft(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}J(o)}return Q(),c},c.viewDate=function(t){if(0===arguments.length)return s.clone();if(!t)return s=o.clone(),c;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return s=rt(t),R(),c},n.is("input"))r=n;else if(r=n.find(i.datepickerInput),0===r.size())r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(f=0===n.find(".datepickerbutton").size()?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=x(),s=o.clone(),t.extend(!0,i,I()),c.options(i),pt(),ut(),r.prop("disabled")&&c.disable(),r.is("input")&&0!==r.val().trim().length?J(rt(r.val().trim())):i.defaultDate&&void 0===r.attr("placeholder")&&J(i.defaultDate),i.inline&&ot(),c};t.fn.datetimepicker=function(e){return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))})},t.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),function(t){"use strict";function e(e){t(e).on("click"+f,this.toggle)}function n(t,e){t.hasClass("pull-center")&&t.css("margin-right",t.outerWidth()/-2),t.hasClass("pull-middle")&&t.css("margin-top",t.outerHeight()/-2-e.outerHeight()/2)}function i(e,n){if(r){n||(n=[r]);var i;r[0]!==n[0][0]?i=r:(i=n[n.length-1],i.parent().hasClass(u)&&(i=i.parent())),i.find("."+p).removeClass(p),i.hasClass(p)&&i.removeClass(p),i===r&&(r=null,t(d).remove())}}function o(t){for(var e,n=[t];!e||e.hasClass(c);)e=(e||t).parent(),e.hasClass(u)&&(e=e.parent()),e.children(a)&&n.unshift(e);return n}function s(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var r,a='[data-toggle="dropdown"]',l=".disabled, :disabled",d=".dropdown-backdrop",u="dropdown-menu",c="dropdown-submenu",h=".bs.dropdown.data-api",f=".bs.dropdown",p="open",m="ontouchstart"in document.documentElement,g=e.prototype;g.toggle=function(e){var a=t(this);if(!a.is(l)){var h=s(a),f=h.hasClass(p),g=h.hasClass(c),v=g?o(h):null;if(i(e,v),!f){v||(v=[h]),!m||h.closest(".navbar-nav").length||v[0].find(d).length||t('<div class="'+d.substr(1)+'"/>').appendTo(v[0]).on("click",i);for(var y=0,b=v.length;y<b;y++)v[y].hasClass(p)||(v[y].addClass(p),n(v[y].children("."+u),v[y]));r=v[0]}return!1}},g.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var i=s(n),o=i.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&i.find(a).trigger("focus"),n.trigger("click");var r=" li:not(.divider):visible a",l="li:not(.divider):visible > input:not(disabled) ~ label",d=i.find(l+', [role="menu"]'+r+', [role="listbox"]'+r);if(d.length){var u=d.index(d.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<d.length-1&&u++,~u||(u=0),d.eq(u).trigger("focus")}}}},g.change=function(e){var n,i,o,s="";if(n=t(this).closest("."+u),i=n.parent().find("[data-label-placement]"),i&&i.length||(i=n.parent().find(a)),i&&i.length&&i.data("placeholder")!==!1){void 0==i.data("placeholder")&&i.data("placeholder",t.trim(i.text())),s=t.data(i[0],"placeholder"),o=n.find("li > input:checked"),o.length&&(s=[],o.each(function(){var e=t(this).parent().find("label").eq(0),n=e.find(".data-label");if(n.length){var i=t("<p></p>");i.append(n.clone()),e=i.html()}else e=e.html();e&&s.push(t.trim(e))}),s=s.length<4?s.join(", "):s.length+" выбрано");var r=i.find(".caret");i.html(s||"&nbsp;"),r.length&&i.append(" ")&&r.appendTo(i)}};var v=t.fn.dropdown;t.fn.dropdown=function(n){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new e(this)),"string"==typeof n&&o[n].call(i)})},t.fn.dropdown.Constructor=e,t.fn.dropdown.clearMenus=function(e){return t(d).remove(),t("."+p+" "+a).each(function(){var n=s(t(this)),i={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide"+f,i)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden"+f,i))}),this},t.fn.dropdown.noConflict=function(){return t.fn.dropdown=v,this},t(document).off(h).on("click"+h,i).on("click"+h,a,g.toggle).on("click"+h,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(t){t.stopPropagation()}).on("change"+h,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',g.change).on("keydown"+h,a+', [role="menu"], [role="listbox"]',g.keydown)}(jQuery),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[p.locale];return e?e[t]:g.en[t]}function o(t,n,i){t.stopPropagation(),t.preventDefault();var o=e.isFunction(i)&&i.call(n,t)===!1;o||n.modal("hide")}function s(t){var e,n=0;for(e in t)n++;return n}function r(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function a(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},p,t),t.buttons||(t.buttons={}),n=t.buttons,i=s(n),r(n,function(t,o,s){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=2>=i&&s===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function d(t,n,i){return e.extend(!0,{},t,l(n,i))}function u(t,e,n,i){var o={className:"bootbox-"+t,buttons:c.apply(null,e)};return h(d(o,i,n),e)}function c(){for(var t={},e=0,n=arguments.length;n>e;e++){var o=arguments[e],s=o.toLowerCase(),r=o.toUpperCase();t[s]={label:i(r)}}return t}function h(t,e){var i={};return r(e,function(t,e){i[e]=!0}),r(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",
header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},p={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,o,s,a,l,u;if(s=e(f.form),i={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},t=h(d(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=a.val();break;case"checkbox":var i=a.find("input:checked");n=[],r(i,function(t,i){n.push(e(i).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!f.inputs[t.inputType])throw new Error("invalid prompt type");switch(a=e(f.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":a.val(t.value);break;case"select":var p={};if(u=t.inputOptions||[],!e.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");r(u,function(t,i){var o=a;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(p[i.group]||(p[i.group]=e("<optgroup/>").attr("label",i.group)),o=p[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),r(p,function(t,e){a.append(e)}),a.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");a=e("<div/>"),r(u,function(n,i){var o=e(f.inputs[t.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),r(g,function(t,e){e===i.value&&o.find("input").prop("checked",!0)}),a.append(o)})}return t.placeholder&&a.attr("placeholder",t.placeholder),t.pattern&&a.attr("pattern",t.pattern),t.maxlength&&a.attr("maxlength",t.maxlength),s.append(a),s.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=m.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){a.focus()}),l===!0&&o.modal("show"),o},m.dialog=function(t){t=a(t);var i=e(f.dialog),s=i.find(".modal-dialog"),l=i.find(".modal-body"),d=t.buttons,u="",c={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(r(d,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",c[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&i.addClass("fade"),t.className&&i.addClass(t.className),"large"===t.size?s.addClass("modal-lg"):"small"===t.size&&s.addClass("modal-sm"),t.title&&l.before(f.header),t.closeButton){var h=e(f.closeButton);t.title?i.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(l)}return t.title&&i.find(".modal-title").html(t.title),u.length&&(l.after(f.footer),i.find(".modal-footer").html(u)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&i.on("click.dismiss.bs.modal",function(t){i.children(".modal-backdrop").length&&(t.currentTarget=i.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&i.trigger("escape.close.bb")}),i.on("escape.close.bb",function(t){c.onEscape&&o(t,i,c.onEscape)}),i.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");o(t,i,c[n])}),i.on("click",".bootbox-close-button",function(t){o(t,i,c.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),e(t.container).append(i),i.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&i.modal("show"),i},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(p,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(n){return t(n||e)},m}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("moment")):t(jQuery,moment)}(function(t,e){function n(t){return z(t,Pt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,o){"views"!=e&&(t.isPlainObject(o)&&!/(time|duration|interval)$/i.test(e)&&-1==t.inArray(e,Pt)?(n=null,t.each(o,function(t,o){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=o):(n||(n={}),n[t]=o)}),n&&(i[e]=n)):i[e]=o)}),i}function o(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function s(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function r(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var o=Math.floor(n/e.length),s=Math.floor(n-o*(e.length-1)),r=[],a=[],l=[],u=0;d(e),e.each(function(n,i){var d=n===e.length-1?s:o,c=t(i).outerHeight(!0);d>c?(r.push(i),a.push(c),l.push(t(i).height())):u+=c}),i&&(n-=u,o=Math.floor(n/r.length),s=Math.floor(n-o*(r.length-1))),t(r).each(function(e,n){var i=e===r.length-1?s:o,d=a[e],u=l[e],c=i-(d-u);i>d&&t(n).height(c)})}function d(t){t.height("")}function u(e){var n=0;return e.find("> *").each(function(e,i){var o=t(i).outerWidth();o>n&&(n=o)}),n++,e.width(n),n}function c(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight||(h(t),!1)}function h(t){t.height("").removeClass("fc-scroller")}function f(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function p(t){var e=t.offset();return{left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()}}function m(t){var e=t.offset(),n=v(t),i=e.left+w(t,"border-left-width")+n.left,o=e.top+w(t,"border-top-width")+n.top;return{left:i,right:i+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function g(t){var e=t.offset(),n=e.left+w(t,"border-left-width")+w(t,"padding-left"),i=e.top+w(t,"border-top-width")+w(t,"padding-top");return{left:n,right:n+t.width(),top:i,bottom:i+t.height()}}function v(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return y()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function y(){return null===jt&&(jt=b()),jt}function b(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function w(t,e){return parseFloat(t.css(e))||0}function D(t){return 1==t.which&&!t.ctrlKey}function C(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function x(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function T(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function S(t,e){return{left:t.left-e.left,top:t.top-e.top}}function _(e){var n,i,o=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:t.isArray(e)&&(s=e),n=0;n<s.length;n++)i=s[n],"string"==typeof i?o.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&o.push({func:i});return o}function k(t,e,n){var i,o;for(i=0;i<n.length;i++)if(o=E(t,e,n[i]))return o;return 0}function E(t,e,n){return n.func?n.func(t,e):M(t[n.field],e[n.field])*(n.order||1)}function M(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function O(t,e){var n,i,o,s,r=t.start,a=t.end,l=e.start,d=e.end;return a>l&&d>r?(r>=l?(n=r.clone(),o=!0):(n=l.clone(),o=!1),d>=a?(i=a.clone(),s=!0):(i=d.clone(),s=!1),{start:n,end:i,isStart:o,isEnd:s}):void 0}function $(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function I(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function H(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function A(t,e){var n,i,o;for(n=0;n<Wt.length&&(i=Wt[n],o=R(i,t,e),!(o>=1&&et(o)));n++);return i}function R(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function F(t,e,n){var i;return Y(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&et(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function N(t,e){var n,i;return Y(t)||Y(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&et(n)&&Math.abs(i)>=1&&et(i)?n/i:t.asDays()/e.asDays())}function L(t,n){var i;return Y(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&et(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function Y(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function P(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function j(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function z(t,e){var n,i,o,s,r,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],o=[],s=t.length-1;s>=0;s--)if(r=t[s][i],"object"==typeof r)o.unshift(r);else if(void 0!==r){l[i]=r;break}o.length&&(l[i]=z(o))}for(n=t.length-1;n>=0;n--){a=t[n];for(i in a)i in l||(l[i]=a[i])}return l}function W(t){var e=function(){};return e.prototype=t,new e}function B(t,e){for(var n in t)U(t,n)&&(e[n]=t[n])}function G(t,e){var n,i,o=["constructor","toString","valueOf"];for(n=0;n<o.length;n++)i=o[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function U(t,e){return Vt.call(t,e)}function V(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function q(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var o,s;for(o=0;o<e.length;o++)s=e[o].apply(n,i)||s;return s}}function Z(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function K(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function X(t){return t.replace(/&.*?;/g,"")}function Q(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function J(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t,e){return t-e}function et(t){return t%1===0}function nt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function it(t,e){var n,i,o,s,r=function(){var a=+new Date-s;e>a&&a>0?n=setTimeout(r,e-a):(n=null,t.apply(o,i),n||(o=i=null))};return function(){o=this,i=arguments,s=+new Date,n||(n=setTimeout(r,e))}}function ot(n,i,o){var s,r,a,l,d=n[0],u=1==n.length&&"string"==typeof d;return e.isMoment(d)?(l=e.apply(null,n),rt(d,l)):P(d)||void 0===d?l=e.apply(null,n):(s=!1,r=!1,u?qt.test(d)?(d+="-01",n=[d],s=!0,r=!0):(a=Zt.exec(d))&&(s=!a[5],r=!0):t.isArray(d)&&(r=!0),l=i||s?e.utc.apply(e,n):e.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):o&&(r?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(d):l.zone(d)))),l._fullCalendar=!0,l}function st(t,n){var i,o,s=!1,r=!1,a=t.length,l=[];for(i=0;a>i;i++)o=t[i],e.isMoment(o)||(o=Lt.moment.parseZone(o)),s=s||o._ambigTime,r=r||o._ambigZone,l.push(o);for(i=0;a>i;i++)o=l[i],n||!s||o._ambigTime?r&&!o._ambigZone&&(l[i]=o.clone().stripZone()):l[i]=o.clone().stripTime();return l}function rt(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function at(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function lt(t,e){return Xt.format.call(t,e)}function dt(t,e){return ut(t,mt(e))}function ut(t,e){var n,i="";for(n=0;n<e.length;n++)i+=ct(t,e[n]);return i}function ct(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?Qt[n]?Qt[n](t):lt(t,n):e.maybe&&(i=ut(t,e.maybe),i.match(/[1-9]/))?i:""}function ht(t,e,n,i,o){var s;return t=Lt.moment.parseZone(t),e=Lt.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",ft(t,e,mt(n),i,o)}function ft(t,e,n,i,o){var s,r,a,l,d="",u="",c="",h="",f="";for(r=0;r<n.length&&(s=pt(t,e,n[r]),s!==!1);r++)d+=s;for(a=n.length-1;a>r&&(s=pt(t,e,n[a]),s!==!1);a--)u=s+u;for(l=r;a>=l;l++)c+=ct(t,n[l]),h+=ct(e,n[l]);return(c||h)&&(f=o?h+i+c:c+i+h),d+f+u}function pt(t,e,n){var i,o;return"string"==typeof n?n:!!((i=n.token)&&(o=Jt[i.charAt(0)],o&&t.isSame(e,o)))&&lt(t,i)}function mt(t){return t in te?te[t]:te[t]=gt(t)}function gt(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:gt(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function vt(){}function yt(t,e){return!t&&!e||!(!t||!e)&&(t.grid===e.grid&&t.row===e.row&&t.col===e.col)}function bt(t){var e=Dt(t);return"background"===e||"inverse-background"===e}function wt(t){return"inverse-background"===Dt(t)}function Dt(t){return Z((t.source||{}).rendering,t.rendering)}function Ct(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function xt(t,e){return t.eventStartMS-e.eventStartMS}function Tt(n){var i,o,s,r,a=Lt.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},o=i.start,null==o&&(o=i.time),s=i.duration,r=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==o&&(o=n.data(a+"start")),null==o&&(o=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==r&&(r=n.data(a+"stick")),o=null!=o?e.duration(o):null,s=null!=s?e.duration(s):null,r=Boolean(r),{eventProps:i,startTime:o,duration:s,stick:r}}function St(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function _t(t,e){return t.leftCol-e.leftCol}function kt(t){var e,n,i,o=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<o.length&&Ot(n,o[i]).length;i++);n.level=i,(o[i]||(o[i]=[])).push(n)}return o}function Et(t){var e,n,i,o,s;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(o=n[i],o.forwardSegs=[],s=e+1;s<t.length;s++)Ot(o,t[s],o.forwardSegs)}function Mt(t){var e,n,i=t.forwardSegs,o=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],Mt(n),o=Math.max(o,1+n.forwardPressure);t.forwardPressure=o}}function Ot(t,e,n){n=n||[];for(var i=0;i<e.length;i++)$t(t,e[i])&&n.push(e[i]);return n}function $t(t,e){return t.bottom>e.top&&t.top<e.bottom}function It(n,i){function o(){U?a()&&(u(),l()):s()}function s(){V=P.theme?"ui":"fc",n.addClass("fc"),P.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),P.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),U=t("<div class='fc-view-container'/>").prependTo(n),B=Y.header=new Rt(Y,P),G=B.render(),G&&n.prepend(G),l(P.defaultView),P.handleWindowResize&&(K=it(h,P.windowResizeDelay),t(window).resize(K))}function r(){q&&q.removeElement(),B.removeElement(),U.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),K&&t(window).unbind("resize",K)}function a(){return n.is(":visible")}function l(e){nt++,q&&e&&q.type!==e&&(B.deactivateButton(q.type),H(),q.removeElement(),q=Y.view=null),!q&&e&&(q=Y.view=et[e]||(et[e]=Y.instantiateView(e)),q.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(U)),B.activateButton(e)),q&&(X=q.massageCurrentDate(X),q.displaying&&X.isWithin(q.intervalStart,q.intervalEnd)||a()&&(H(),q.display(X),A(),w(),D(),g())),A(),nt--}function d(t){return a()?(t&&c(),nt++,q.updateSize(!0),nt--,!0):void 0}function u(){a()&&c()}function c(){Z="number"==typeof P.contentHeight?P.contentHeight:"number"==typeof P.height?P.height-(G?G.outerHeight(!0):0):Math.round(U.width()/Math.max(P.aspectRatio,.5))}function h(t){!nt&&t.target===window&&q.start&&d(!0)&&q.trigger("windowResize",tt)}function f(){m(),v()}function p(){a()&&(H(),q.displayEvents(ot),A())}function m(){H(),q.clearEvents(),A()}function g(){!P.lazyFetching||Q(q.start,q.end)?v():p()}function v(){J(q.start,q.end)}function y(t){ot=t,p()}function b(){p()}function w(){B.updateTitle(q.title)}function D(){var t=Y.getNow();t.isWithin(q.intervalStart,q.intervalEnd)?B.disableButton("today"):B.enableButton("today")}function C(t,e){q.select(Y.buildSelectRange.apply(Y,arguments))}function x(){q&&q.unselect()}function T(){X=q.computePrevDate(X),l()}function S(){X=q.computeNextDate(X),l()}function _(){X.add(-1,"years"),l()}function k(){X.add(1,"years"),l()}function E(){X=Y.getNow(),l()}function M(t){X=Y.moment(t),l()}function O(t){X.add(e.duration(t)),l()}function $(t,e){var n;e=e||"day",n=Y.getViewSpec(e)||Y.getUnitViewSpec(e),X=t,l(n?n.type:null)}function I(){return X.clone()}function H(){U.css({width:"100%",height:U.height(),overflow:"hidden"})}function A(){U.css({width:"",height:"",overflow:""})}function R(){return Y}function F(){return q}function N(t,e){return void 0===e?P[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(P[t]=e,d(!0)))}function L(t,e){var n=Array.prototype.slice.call(arguments,2);return e=e||tt,this.triggerWith(t,e,n),P[t]?P[t].apply(e,n):void 0}var Y=this;Y.initOptions(i||{});var P=this.options;Y.render=o,Y.destroy=r,Y.refetchEvents=f,Y.reportEvents=y,Y.reportEventChange=b,Y.rerenderEvents=p,Y.changeView=l,Y.select=C,Y.unselect=x,Y.prev=T,Y.next=S,Y.prevYear=_,Y.nextYear=k,Y.today=E,Y.gotoDate=M,Y.incrementDate=O,Y.zoomTo=$,Y.getDate=I,Y.getCalendar=R,Y.getView=F,Y.option=N,Y.trigger=L;var j=W(At(P.lang));if(P.monthNames&&(j._months=P.monthNames),P.monthNamesShort&&(j._monthsShort=P.monthNamesShort),P.dayNames&&(j._weekdays=P.dayNames),P.dayNamesShort&&(j._weekdaysShort=P.dayNamesShort),null!=P.firstDay){var z=W(j._week);z.dow=P.firstDay,j._week=z}j._fullCalendar_weekCalc=function(t){return"function"==typeof t?t:"local"===t?t:"iso"===t||"ISO"===t?"ISO":void 0}(P.weekNumberCalculation),Y.defaultAllDayEventDuration=e.duration(P.defaultAllDayEventDuration),Y.defaultTimedEventDuration=e.duration(P.defaultTimedEventDuration),Y.moment=function(){var t;return"local"===P.timezone?(t=Lt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===P.timezone?Lt.moment.utc.apply(null,arguments):Lt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=j:t._lang=j,t},Y.getIsAmbigTimezone=function(){return"local"!==P.timezone&&"UTC"!==P.timezone},Y.rezoneDate=function(t){return Y.moment(t.toArray())},Y.getNow=function(){var t=P.now;return"function"==typeof t&&(t=t()),Y.moment(t)},Y.getEventEnd=function(t){return t.end?t.end.clone():Y.getDefaultEventEnd(t.allDay,t.start)},Y.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(Y.defaultAllDayEventDuration):n.add(Y.defaultTimedEventDuration),Y.getIsAmbigTimezone()&&n.stripZone(),n},Y.humanizeDuration=function(t){return(t.locale||t.lang).call(t,P.lang).humanize()},Ft.call(Y,P);var B,G,U,V,q,Z,K,X,Q=Y.isFetchNeeded,J=Y.fetchEvents,tt=n[0],et={},nt=0,ot=[];X=null!=P.defaultDate?Y.moment(P.defaultDate):Y.getNow(),Y.getSuggestedViewHeight=function(){return void 0===Z&&u(),Z},Y.isHeightAuto=function(){return"auto"===P.contentHeight||"auto"===P.height},Y.initialize()}function Ht(e){t.each(ve,function(t,n){null==e[t]&&(e[t]=n(e))})}function At(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function Rt(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?p=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function o(){p.remove(),p=t()}function s(i){var o=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(i){var s,r=t(),a=!0;t.each(this.split(","),function(i,o){var s,l,d,u,c,h,p,g,v,y;"title"==o?(r=r.add(t("<h2>&nbsp;</h2>")),a=!1):((s=(e.options.customButtons||{})[o])?(d=function(t){s.click&&s.click.call(y[0],t)},u="",c=s.text):(l=e.getViewSpec(o))?(d=function(){e.changeView(o)},m.push(o),u=l.buttonTextOverride,c=l.buttonTextDefault):e[o]&&(d=function(){e[o]()},u=(e.overrides.buttonText||{})[o],c=n.buttonText[o]),d&&(h=s?s.themeIcon:n.themeButtonIcons[o],p=s?s.icon:n.buttonIcons[o],g=u?K(u):h&&n.theme?"<span class='ui-icon ui-icon-"+h+"'></span>":p&&!n.theme?"<span class='fc-icon fc-icon-"+p+"'></span>":K(c),v=["fc-"+o+"-button",f+"-button",f+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+g+"</button>").click(function(t){y.hasClass(f+"-state-disabled")||(d(t),(y.hasClass(f+"-state-active")||y.hasClass(f+"-state-disabled"))&&y.removeClass(f+"-state-hover"))}).mousedown(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){y.removeClass(f+"-state-down")}).hover(function(){y.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){y.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),r=r.add(y)))}),a&&r.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),r.length>1?(s=t("<div/>"),a&&s.addClass("fc-button-group"),s.append(r),o.append(s)):o.append(r)}),o}function r(t){p.find("h2").text(t)}function a(t){p.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){p.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function d(t){p.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function u(t){p.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function c(){return m}var h=this;h.render=i,h.removeElement=o,h.updateTitle=r,h.activateButton=a,h.deactivateButton=l,h.disableButton=d,h.enableButton=u,h.getViewsWithButtons=c;var f,p=t(),m=[]}function Ft(n){function i(t,e){return!L||t.clone().stripZone()<L.clone().stripZone()||e.clone().stripZone()>Y.clone().stripZone()}function o(t,e){L=t,Y=e,U=[];var n=++B,i=W.length;G=i;for(var o=0;i>o;o++)s(W[o],n)}function s(e,n){r(e,function(i){var o,s,r,a=t.isArray(e.events);if(n==B){if(i)for(o=0;o<i.length;o++)s=i[o],r=a?s:y(s,e),r&&U.push.apply(U,x(r));G--,G||P(U)}})}function r(e,i){var o,s,a=Lt.sourceFetchers;for(o=0;o<a.length;o++){if(s=a[o].call(N,e,L.clone(),Y.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return void r(s,i)}var l=e.events;if(l)t.isFunction(l)?(N.pushLoading(),l.call(N,L.clone(),Y.clone(),n.timezone,function(t){i(t),N.popLoading()})):t.isArray(l)?i(l):i();else{var d=e.url;if(d){var u,c=e.success,h=e.error,f=e.complete;u=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},u||{}),m=Z(e.startParam,n.startParam),g=Z(e.endParam,n.endParam),v=Z(e.timezoneParam,n.timezoneParam);m&&(p[m]=L.format()),g&&(p[g]=Y.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),N.pushLoading(),t.ajax(t.extend({},ye,e,{data:p,success:function(e){e=e||[];var n=q(c,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){q(h,this,arguments),i()},complete:function(){q(f,this,arguments),N.popLoading()}}))}else i()}}function a(t){var e=l(t);e&&(W.push(e),G++,s(e,B))}function l(e){var n,i,o=Lt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return y(t,n)})),i=0;i<o.length;i++)o[i].call(N,n);return n}}function d(e){W=t.grep(W,function(t){return!u(t,e)}),U=t.grep(U,function(t){return!u(t.source,e)}),P(U)}function u(t,e){return t&&e&&c(t)==c(e)}function c(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function h(t){t.start=N.moment(t.start),t.end?t.end=N.moment(t.end):t.end=null,T(t,f(t)),P(U)}function f(e){var n={};return t.each(e,function(t,e){p(t)&&void 0!==e&&V(e)&&(n[t]=e)}),n}function p(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function m(t,e){var n,i,o,s=y(t);if(s){for(n=x(s),i=0;i<n.length;i++)o=n[i],o.source||(e&&(z.events.push(o),o.source=z),U.push(o));return P(U),n}return[]}function g(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),U=t.grep(U,e,!0),i=0;i<W.length;i++)t.isArray(W[i].events)&&(W[i].events=t.grep(W[i].events,e,!0));P(U)}function v(e){return t.isFunction(e)?t.grep(U,e):null!=e?(e+="",t.grep(U,function(t){return t._id==e})):U}function y(i,o){var s,r,a,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),o&&o.eventDataTransform&&(i=o.eventDataTransform(i)),t.extend(l,i),o&&(l.source=o),l._id=i._id||(void 0===i.id?"_fc"+be++:i.id+""),i.className?"string"==typeof i.className?l.className=i.className.split(/\s+/):l.className=i.className:l.className=[],s=i.start||i.date,r=i.end,j(s)&&(s=e.duration(s)),j(r)&&(r=e.duration(r)),i.dow||e.isDuration(s)||e.isDuration(r))l.start=s?e.duration(s):null,l.end=r?e.duration(r):null,l._recurring=!0;else{if(s&&(s=N.moment(s),!s.isValid()))return!1;r&&(r=N.moment(r),r.isValid()||(r=null)),a=i.allDay,void 0===a&&(a=Z(o?o.allDayDefault:void 0,n.allDayDefault)),b(s,r,a,l)}return l}function b(t,e,n,i){i.start=t,i.end=e,i.allDay=n,w(i),Nt(i)}function w(t){D(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(n.forceEventDuration?t.end=N.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function D(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=N.rezoneDate(t.start)),t.end&&!t.end.hasTime()&&(t.end=N.rezoneDate(t.end)))}function C(e){var n;return e.end||(n=e.allDay,null==n&&(n=!e.start.hasTime()),e=t.extend({},e),e.end=N.getDefaultEventEnd(n,e.start)),e}function x(e,n,i){var o,s,r,a,l,d,u,c,h,f=[];if(n=n||L,i=i||Y,e)if(e._recurring){if(s=e.dow)for(o={},r=0;r<s.length;r++)o[s[r]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)(!o||o[a.day()])&&(l=e.start,d=e.end,u=a.clone(),c=null,l&&(u=u.time(l)),d&&(c=a.clone().time(d)),h=t.extend({},e),b(u,c,!l&&!d,h),f.push(h)),a.add(1,"days")}else f.push(e);return f}function T(e,n,i){function o(t,e){return i?H(t,e,i):n.allDay?I(t,e):$(t,e)}var s,r,a,l,d,u,c={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),w(n),s={start:e._start.clone(),end:e._end?e._end.clone():N.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},w(s),r=null!==e._end&&null===n.end,a=o(n.start,s.start),n.end?(l=o(n.end,s.end),d=l.subtract(a)):d=null,t.each(n,function(t,e){p(t)&&void 0!==e&&(c[t]=e)}),u=S(v(e._id),r,n.allDay,a,d,c),{dateDelta:a,durationDelta:d,undo:u}}function S(e,n,i,o,s,r){var a=N.getIsAmbigTimezone(),l=[];return o&&!o.valueOf()&&(o=null),s&&!s.valueOf()&&(s=null),t.each(e,function(e,d){var u,c;u={start:d.start.clone(),end:d.end?d.end.clone():null,allDay:d.allDay},t.each(r,function(t){u[t]=d[t]}),c={start:d._start,end:d._end,allDay:i},w(c),n?c.end=null:s&&!c.end&&(c.end=N.getDefaultEventEnd(c.allDay,c.start)),o&&(c.start.add(o),c.end&&c.end.add(o)),s&&c.end.add(s),a&&!c.allDay&&(o||s)&&(c.start.stripZone(),c.end&&c.end.stripZone()),t.extend(d,r,c),Nt(d),l.push(function(){t.extend(d,u),Nt(d)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function _(e){var i,o=n.businessHours,s={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},r=N.getView();return o&&(i=t.extend({},s,"object"==typeof o?o:{})),i?(e&&(i.start=null,i.end=null),x(y(i),r.start,r.end)):[]}function k(t,e){var i=e.source||{},o=Z(e.constraint,i.constraint,n.eventConstraint),s=Z(e.overlap,i.overlap,n.eventOverlap);return t=C(t),O(t,o,s,e)}function E(t){return O(t,n.selectConstraint,n.selectOverlap)}function M(e,n){var i,o;return n&&(i=t.extend({},n,e),o=x(y(i))[0]),o?k(e,o):(e=C(e),E(e))}function O(e,n,i,o){var s,r,a,l,d,u;if(e=t.extend({},e),e.start=e.start.clone().stripZone(),e.end=e.end.clone().stripZone(),null!=n){for(s=A(n),r=!1,l=0;l<s.length;l++)if(R(s[l],e)){r=!0;break}if(!r)return!1}for(a=N.getPeerEvents(o,e),l=0;l<a.length;l++)if(d=a[l],F(d,e)){if(i===!1)return!1;if("function"==typeof i&&!i(d,o))return!1;
if(o){if(u=Z(d.overlap,(d.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(o,d))return!1}}return!0}function A(t){return"businessHours"===t?_():"object"==typeof t?x(y(t)):v(t)}function R(t,e){var n=t.start.clone().stripZone(),i=N.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i}function F(t,e){var n=t.start.clone().stripZone(),i=N.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var N=this;N.isFetchNeeded=i,N.fetchEvents=o,N.addEventSource=a,N.removeEventSource=d,N.updateEvent=h,N.renderEvent=m,N.removeEvents=g,N.clientEvents=v,N.mutateEvent=T,N.normalizeEventRange=w,N.normalizeEventRangeTimes=D,N.ensureVisibleEventRange=C;var L,Y,P=N.reportEvents,z={events:[]},W=[z],B=0,G=0,U=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&W.push(n)}),N.getBusinessHoursEvents=_,N.isEventRangeAllowed=k,N.isSelectionRangeAllowed=E,N.isExternalDropRangeAllowed=M,N.getEventCache=function(){return U}}function Nt(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Lt=t.fullCalendar={version:"2.4.0"},Yt=Lt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(o,s){var r,a=t(s),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(r=l[e].apply(l,n),o||(i=r),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new fe(a,e),a.data("fullCalendar",l),l.render())}),i};var Pt=["header","buttonText","buttonIcons","themeButtonIcons"];Lt.intersectionToSeg=O,Lt.applyAll=q,Lt.debounce=it,Lt.isInt=et,Lt.htmlEscape=K,Lt.cssToStr=Q,Lt.proxy=nt,Lt.capitaliseFirstLetter=J,Lt.getClientRect=m,Lt.getContentRect=g,Lt.getScrollbarWidths=v;var jt=null;Lt.intersectRects=C,Lt.parseFieldSpecs=_,Lt.compareByFieldSpecs=k,Lt.compareByFieldSpec=E,Lt.flexibleCompare=M,Lt.computeIntervalUnit=A,Lt.divideRangeByDuration=F,Lt.divideDurationByDuration=N,Lt.multiplyDuration=L,Lt.durationHasTime=Y;var zt=["sun","mon","tue","wed","thu","fri","sat"],Wt=["year","month","week","day","hour","minute","second","millisecond"];Lt.log=function(){var t=window.console;return t&&t.log?t.log.apply(t,arguments):void 0},Lt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Lt.log.apply(Lt,arguments)};var Bt,Gt,Ut,Vt={}.hasOwnProperty,qt=/^\s*\d{4}-\d\d$/,Zt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Kt=e.fn,Xt=t.extend({},Kt);Lt.moment=function(){return ot(arguments)},Lt.moment.utc=function(){var t=ot(arguments,!0);return t.hasTime()&&t.utc(),t},Lt.moment.parseZone=function(){return ot(arguments,!0,!0)},Kt.clone=function(){var t=Xt.clone.apply(this,arguments);return rt(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Kt.week=Kt.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?Xt.isoWeek.apply(this,arguments):Xt.week.apply(this,arguments)},Kt.time=function(t){if(!this._fullCalendar)return Xt.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Kt.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),Gt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Kt.hasTime=function(){return!this._ambigTime},Kt.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),Gt(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},Kt.hasZone=function(){return!this._ambigZone},Kt.local=function(){var t=this.toArray(),e=this._ambigZone;return Xt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&Ut(this,t),this},Kt.utc=function(){return Xt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){Xt[e]&&(Kt[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Xt[e].apply(this,arguments)})}),Kt.format=function(){return this._fullCalendar&&arguments[0]?dt(this,arguments[0]):this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):Xt.format.apply(this,arguments)},Kt.toISOString=function(){return this._ambigTime?lt(this,"YYYY-MM-DD"):this._ambigZone?lt(this,"YYYY-MM-DD[T]HH:mm:ss"):Xt.toISOString.apply(this,arguments)},Kt.isWithin=function(t,e){var n=st([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Kt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=st([this,t],!0),Xt.isSame.call(n[0],n[1],e)):(t=Lt.moment.parseZone(t),Xt.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Xt.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Kt[e]=function(t,n){var i;return this._fullCalendar?(i=st([this,t]),Xt[e].call(i[0],i[1],n)):Xt[e].apply(this,arguments)}}),Bt="_d"in e()&&"updateOffset"in e,Gt=Bt?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:at,Ut=Bt?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:at;var Qt={t:function(t){return lt(t,"a").charAt(0)},T:function(t){return lt(t,"A").charAt(0)}};Lt.formatRange=ht;var Jt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},te={};Lt.Class=vt,vt.extend=function(t){var e,n=this;return t=t||{},U(t,"constructor")&&(e=t.constructor),"function"!=typeof e&&(e=t.constructor=function(){n.apply(this,arguments)}),e.prototype=W(n.prototype),B(t,e.prototype),G(t,e.prototype),B(n,e),e},vt.mixin=function(t){B(t.prototype||t,this.prototype)};var ee=Lt.Emitter=vt.extend({callbackHash:null,on:function(t,e){return this.getCallbacks(t).add(e),this},off:function(t,e){return this.getCallbacks(t).remove(e),this},trigger:function(t){var e=Array.prototype.slice.call(arguments,1);return this.triggerWith(t,this,e),this},triggerWith:function(t,e,n){var i=this.getCallbacks(t);return i.fireWith(e,n),this},getCallbacks:function(e){var n;return this.callbackHash||(this.callbackHash={}),n=this.callbackHash[e],n||(n=this.callbackHash[e]=t.Callbacks()),n}}),ne=vt.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=nt(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,o,s,r=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),d=this.el.outerHeight(),u=t(window),c=f(this.el);o=r.top||0,s=void 0!==r.left?r.left:void 0!==r.right?r.right-l:0,c.is(window)||c.is(document)?(c=u,e=0,n=0):(i=c.offset(),e=i.top,n=i.left),e+=u.scrollTop(),n+=u.scrollLeft(),r.viewportConstrain!==!1&&(o=Math.min(o,e+c.outerHeight()-d-this.margin),o=Math.max(o,e+this.margin),s=Math.min(s,n+c.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:o-a.top,left:s-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),ie=vt.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(t){this.grid=t},build:function(){this.grid.build(),this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.grid.clear(),this.rowCoords=null,this.colCoords=null},getCell:function(e,n){var i,o,s,r=this.rowCoords,a=r.length,l=this.colCoords,d=l.length,u=null,c=null;if(this.inBounds(e,n)){for(i=0;a>i;i++)if(o=r[i],n>=o.top&&n<o.bottom){u=i;break}for(i=0;d>i;i++)if(o=l[i],e>=o.left&&e<o.right){c=i;break}if(null!==u&&null!==c)return s=this.grid.getCell(u,c),s.grid=this.grid,t.extend(s,r[u],l[c]),s}return null},computeBounds:function(){this.bounds=this.containerEl?m(this.containerEl):null},inBounds:function(t,e){var n=this.bounds;return!n||t>=n.left&&t<n.right&&e>=n.top&&e<n.bottom}}),oe=vt.extend({coordMaps:null,constructor:function(t){this.coordMaps=t},build:function(){var t,e=this.coordMaps;for(t=0;t<e.length;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,o=null;for(n=0;n<i.length&&!o;n++)o=i[n].getCell(t,e);return o},clear:function(){var t,e=this.coordMaps;for(t=0;t<e.length;t++)e[t].clear()}}),se=Lt.DragListener=vt.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(t){t=t||{},this.options=t,this.subjectEl=t.subjectEl},mousedown:function(t){D(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n;this.isListening||(e&&this.options.scroll&&(n=f(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=it(nt(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")).on("mouseup",this.mouseupProxy=nt(this,"mouseup")).on("selectstart",this.preventDefault),e?(this.originX=e.pageX,this.originY=e.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(e))},listenStart:function(t){this.trigger("listenStart",t)},mousemove:function(t){var e,n,i=t.pageX-this.originX,o=t.pageY-this.originY;this.isDragging||(e=this.options.distance||1,n=i*i+o*o,n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(i,o,t)},startDrag:function(t){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(t))},dragStart:function(t){var e=this.subjectEl;this.trigger("dragStart",t),(this.subjectHref=e?e.attr("href"):null)&&e.removeAttr("href")},drag:function(t,e,n){this.trigger("drag",t,e,n),this.updateScroll(n)},mouseup:function(t){this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.dragStop(t),this.isDragging=!1)},dragStop:function(t){var e=this;this.trigger("dragStop",t),setTimeout(function(){e.subjectHref&&e.subjectEl.attr("href",e.subjectHref)},0)},stopListening:function(e){this.stopDrag(e),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(e))},listenStop:function(t){this.trigger("listenStop",t)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t=this.scrollEl;this.scrollBounds=t?p(t):null},updateScroll:function(t){var e,n,i,o,s=this.scrollSensitivity,r=this.scrollBounds,a=0,l=0;r&&(e=(s-(t.pageY-r.top))/s,n=(s-(r.bottom-t.pageY))/s,i=(s-(t.pageX-r.left))/s,o=(s-(r.right-t.pageX))/s,e>=0&&1>=e?a=e*this.scrollSpeed*-1:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:o>=0&&1>=o&&(l=o*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(nt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),re=se.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(t,e){se.prototype.constructor.call(this,e),this.coordMap=t},listenStart:function(t){var e,n,i,o=this.subjectEl;se.prototype.listenStart.apply(this,arguments),this.computeCoords(),t?(n={left:t.pageX,top:t.pageY},i=n,o&&(e=p(o),i=x(i,e)),this.origCell=this.getCell(i.left,i.top),o&&this.options.subjectCenter&&(this.origCell&&(e=C(this.origCell,e)||e),i=T(e)),this.coordAdjust=S(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(t){var e;se.prototype.dragStart.apply(this,arguments),e=this.getCell(t.pageX,t.pageY),e&&this.cellOver(e)},drag:function(t,e,n){var i;se.prototype.drag.apply(this,arguments),i=this.getCell(n.pageX,n.pageY),yt(i,this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),se.prototype.dragStop.apply(this,arguments)},cellOver:function(t){this.cell=t,this.trigger("cellOver",t,yt(t,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){se.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){se.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.coordMap.getCell(t,e)}}),ae=vt.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=nt(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,o.removeElement(),this.top0=this.left0=null,n&&n()}var o=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),le=vt.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL")},rowHtml:function(t,e){var n,i,o=this.getHtmlRenderer("cell",t),s="";for(e=e||0,n=0;n<this.colCnt;n++)i=this.getCell(e,n),s+=o(i);return s=this.bookendCells(s,t,e),"<tr>"+s+"</tr>"},bookendCells:function(t,e,n){var i=this.getHtmlRenderer("intro",e)(n||0),o=this.getHtmlRenderer("outro",e)(n||0),s=this.isRTL?o:i,r=this.isRTL?i:o;return"string"==typeof t?s+t+r:t.prepend(s).append(r)},getHtmlRenderer:function(t,e){var n,i,o,s,r=this.view;return n=t+"Html",e&&(i=e+J(t)+"Html"),i&&(s=r[i])?o=r:i&&(s=this[i])?o=this:(s=r[n])?o=r:(s=this[n])&&(o=this),"function"==typeof s?function(){return s.apply(o,arguments)||""}:function(){return s||""}}}),de=Lt.Grid=le.extend({start:null,end:null,rowCnt:0,colCnt:0,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){le.apply(this,arguments),this.coordMap=new ie(this),this.elsByFill={},this.externalDragStartProxy=nt(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.colHeadFormat=n.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},build:function(){},clear:function(){},rangeToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?H(t,e,this.largeUnit):$(t,e)},getCell:function(e,n){var i;return null==n&&("number"==typeof e?(n=e%this.colCnt,e=Math.floor(e/this.colCnt)):(n=e.col,e=e.row)),i={row:e,col:n},t.extend(i,this.getRowData(e),this.getColData(n)),t.extend(i,this.computeCellRange(i)),i},computeCellRange:function(t){var e=this.computeCellDate(t);return{start:e,end:e.clone().add(this.cellDuration)}},computeCellDate:function(t){},getRowData:function(t){return{}},getColData:function(t){return{}},getRowEl:function(t){},getColEl:function(t){},getCellDayEl:function(t){return this.getColEl(t.col)||this.getRowEl(t.row)},computeRowCoords:function(){var t,e,n,i=[];for(t=0;t<this.rowCnt;t++)e=this.getRowEl(t),n=e.offset().top,i.push({top:n,bottom:n+e.outerHeight()});return i},computeColCoords:function(){var t,e,n,i=[];for(t=0;t<this.colCnt;t++)e=this.getColEl(t),n=e.offset().left,i.push({left:n,right:n+e.outerWidth()});return i},setElement:function(e){var n=this;this.el=e,e.on("mousedown",function(e){t(e.target).is(".fc-event-container *, .fc-more")||t(e.target).closest(".fc-popover").length||n.dayMousedown(e)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){t(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){t(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(t){var e,n,i=this,o=this.view,s=o.opt("selectable"),l=new re(this.coordMap,{scroll:o.opt("dragScroll"),dragStart:function(){o.unselect()},cellOver:function(t,o,a){a&&(e=o?t:null,s&&(n=i.computeSelection(a,t),n?i.renderSelection(n):r()))},cellOut:function(t){e=null,n=null,i.unrenderSelection(),a()},listenStop:function(t){e&&o.triggerDayClick(e,i.getCellDayEl(e),t),n&&o.reportSelection(n,t),a()}});l.mousedown(t)},renderRangeHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?W(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(this.selectionRangeToSegs(t))},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n,i=[t.start,t.end,e.start,e.end];return i.sort(tt),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},selectionRangeToSegs:function(t){return this.rangeToSegs(t)},renderHighlight:function(t){this.renderFill("highlight",t)},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,o=this,s=this[e+"SegEl"],r="",a=[];if(n.length){for(i=0;i<n.length;i++)r+=this.fillSegHtml(e,n[i]);t(r).each(function(e,i){var r=n[e],l=t(i);s&&(l=s.call(o,r,l)),l&&(l=t(l),l.is(o.fillSegTag)&&(r.el=l,a.push(r)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],o=n?n.call(this,e):[],s=Q(i?i.call(this,e):{});return"<"+this.fillSegTag+(o.length?' class="'+o.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t){var e=this.view,n=t.start;return'<th class="fc-day-header '+e.widgetHeaderClass+" fc-"+zt[n.day()]+'">'+K(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(t){var e=this.view,n=t.start,i=this.getDayClasses(n);return i.unshift("fc-day",e.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+zt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}});de.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),o=[],s=[];for(e=0;e<i.length;e++)n=i[e],bt(n.event)?o.push(n):s.push(n);o=this.renderBgSegs(o)||o,s=this.renderFgSegs(s)||s,this.segs=o.concat(s)},unrenderEvents:function(){this.triggerSegMouseout(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,o=this.view,s="",r=[];if(e.length){for(i=0;i<e.length;i++)s+=this.fgSegHtml(e[i],n);t(s).each(function(n,i){var s=e[n],a=o.resolveEventEl(s.event,t(i));a&&(a.data("fc-seg",s),s.el=a,r.push(s))})}return r},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){var e=this.view,n=t.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||e.opt("eventBackgroundColor")||e.opt("eventColor")}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,o){t(o.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,o,t(o.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&e.segDragMousedown(i,o)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var o=t(this).data("fc-seg");return!o||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,o,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i=this,o=this.view,s=o.calendar,l=t.el,d=t.event,u=new ae(t.el,{parentEl:o.el,opacity:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),c=new re(o.coordMap,{distance:5,scroll:o.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(t){u.hide(),u.start(t)},dragStart:function(e){i.triggerSegMouseout(t,e),i.segDragStart(t,e),o.hideEvent(d)},cellOver:function(e,a,l){t.cell&&(l=t.cell),n=i.computeEventDrop(l,e,d),n&&!s.isEventRangeAllowed(n,d)&&(r(),n=null),n&&o.renderDrag(n,t)?u.hide():u.show(),a&&(n=null)},cellOut:function(){o.unrenderDrag(),u.show(),n=null},cellDone:function(){a()},dragStop:function(e){u.stop(!n,function(){o.unrenderDrag(),o.showEvent(d),i.segDragStop(t,e),n&&o.reportEventDrop(d,n,this.largeUnit,l,e)})},listenStop:function(){u.stop()}});c.mousedown(e)},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,o,s=this.view.calendar,r=t.start,a=e.start;return r.hasTime()===a.hasTime()?(i=this.diffDates(a,r),n.allDay&&Y(i)?(o={start:n.start.clone(),end:s.getEventEnd(n),allDay:!1},s.normalizeEventRangeTimes(o)):o={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},o.start.add(i),o.end&&o.end.add(i)):o={start:a.clone(),end:null,allDay:!a.hasTime()},o},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,o,s=this.view;s.opt("droppable")&&(i=t((n?n.item:null)||e.target),o=s.opt("dropAccept"),(t.isFunction(o)?o.call(i[0],i):i.is(o))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,o,s=this,l=Tt(t);i=new re(this.coordMap,{listenStart:function(){s.isDraggingExternal=!0},cellOver:function(t){o=s.computeExternalDrop(t,l),o?s.renderDrag(o):r()},cellOut:function(){o=null,s.unrenderDrag(),a()},dragStop:function(){s.unrenderDrag(),a(),o&&s.view.reportExternalDrop(l,o,t,e,n)},listenStop:function(){s.isDraggingExternal=!1}}),i.startDrag(e)},computeExternalDrop:function(t,e){var n={start:t.start.clone(),end:null};return e.startTime&&!n.start.hasTime()&&n.start.time(e.startTime),e.duration&&(n.end=n.start.clone().add(e.duration)),this.view.calendar.isExternalDropRangeAllowed(n,e.eventProps)?n:null},renderDrag:function(t,e){},unrenderDrag:function(){},segResizeMousedown:function(t,e,n){var i,o,s=this,l=this.view,d=l.calendar,u=t.el,c=t.event,h=d.getEventEnd(c);i=new re(this.coordMap,{distance:5,scroll:l.opt("dragScroll"),subjectEl:u,dragStart:function(e){s.triggerSegMouseout(t,e),s.segResizeStart(t,e)},cellOver:function(e,i,a){o=n?s.computeEventStartResize(a,e,c):s.computeEventEndResize(a,e,c),o&&(d.isEventRangeAllowed(o,c)?o.start.isSame(c.start)&&o.end.isSame(h)&&(o=null):(r(),o=null)),o&&(l.hideEvent(c),s.renderEventResize(o,t))},cellOut:function(){o=null},cellDone:function(){s.unrenderEventResize(),l.showEvent(c),a()},dragStop:function(e){s.segResizeStop(t,e),o&&l.reportEventResize(c,o,this.largeUnit,u,e)}}),i.mousedown(e)},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var o,s,r=this.view.calendar,a=this.diffDates(n[t],e[t]);return o={start:i.start.clone(),end:r.getEventEnd(i),allDay:i.allDay},o.allDay&&Y(a)&&(o.allDay=!1,r.normalizeEventRangeTimes(o)),o[t].add(a),o.start.isBefore(o.end)||(s=i.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<s&&(s=this.cellDuration),"start"==t?o.start=o.end.clone().subtract(s):o.end=o.start.clone().add(s)),o},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=t.event,o=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&o.push("fc-draggable"),n&&o.push("fc-resizable"),o},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,o=n.color,s=e.opt("eventColor");return{"background-color":t.backgroundColor||i||n.backgroundColor||o||e.opt("eventBackgroundColor")||s,"border-color":t.borderColor||i||n.borderColor||o||e.opt("eventBorderColor")||s,color:t.textColor||n.textColor||e.opt("eventTextColor")}},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),o=[];for(n=0;n<i.length;n++)o.push.apply(o,this.eventRangeToSegs(i[n],e));return o},eventsToRanges:function(e){var n=this,i=Ct(e),o=[];return t.each(i,function(t,e){e.length&&o.push.apply(o,wt(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),o},eventsToNormalRanges:function(t){var e,n,i,o,s=this.view.calendar,r=[];for(e=0;e<t.length;e++)n=t[e],i=n.start.clone().stripZone(),o=s.getEventEnd(n).stripZone(),r.push({event:n,start:i,end:o,eventStartMS:+i,eventDurationMS:o-i});return r},eventsToInverseRanges:function(t){var e,n,i=this.view,o=i.start.clone().stripZone(),s=i.end.clone().stripZone(),r=this.eventsToNormalRanges(t),a=[],l=t[0],d=o;for(r.sort(xt),e=0;e<r.length;e++)n=r[e],n.start>d&&a.push({event:l,start:d,end:n.start}),d=n.end;return s>d&&a.push({event:l,start:d,end:s}),a},eventRangeToSegs:function(t,e){var n,i,o;for(t=this.view.calendar.ensureVisibleEventRange(t),n=e?e(t):this.rangeToSegs(t),i=0;i<n.length;i++)o=n[i],o.event=t.event,o.eventStartMS=t.eventStartMS,o.eventDurationMS=t.eventDurationMS;return n},sortSegs:function(t){t.sort(nt(this,"compareSegs"))},compareSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||k(t.event,e.event,this.view.eventOrderSpecs)}}),Lt.dataAttrPrefix="";var ue=de.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){de.apply(this,arguments),this.cellDuration=e.duration(1,"day")},renderDates:function(t){var e,n,i,o=this.view,s=this.rowCnt,r=this.colCnt,a=s*r,l="";for(e=0;s>e;e++)l+=this.dayRowHtml(e,t);for(this.el.html(l),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;a>n;n++)i=this.getCell(n),
o.trigger("dayRender",null,i.start,this.dayEls.eq(n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents(!0),e=this.eventsToSegs(t);this.renderFill("businessHours",e,"bgevent")},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t){return this.bgCellHtml(t)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){var t,e,n,i;if(this.updateCellDates(),t=this.cellDates,this.breakOnWeeks){for(e=t[0].day(),i=1;i<t.length&&t[i].day()!=e;i++);n=Math.ceil(t.length/i)}else n=1,i=t.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var t=this.view,e=this.start.clone(),n=[],i=-1,o=[];e.isBefore(this.end);)t.isHiddenDay(e)?o.push(i+.5):(i++,o.push(i),n.push(e.clone())),e.add(1,"days");this.cellDates=n,this.dayToCellOffsets=o},computeCellDate:function(t){var e=this.colCnt,n=t.row*e+(this.isRTL?e-t.col-1:t.col);return this.cellDates[n].clone()},getRowEl:function(t){return this.rowEls.eq(t)},getColEl:function(t){return this.dayEls.eq(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.colCnt+t.col)},computeRowCoords:function(){var t=de.prototype.computeRowCoords.call(this);return t[t.length-1].bottom+=this.bottomCoordPadding,t},rangeToSegs:function(t){var e,n,i,o,s,r,a,l,d,u,c=this.isRTL,h=this.rowCnt,f=this.colCnt,p=[];for(t=this.view.computeDayRange(t),e=this.dateToCellOffset(t.start),n=this.dateToCellOffset(t.end.subtract(1,"days")),i=0;h>i;i++)o=i*f,s=o+f-1,l=Math.max(o,e),d=Math.min(s,n),l=Math.ceil(l),d=Math.floor(d),d>=l&&(r=l===e,a=d===n,l-=o,d-=o,u={row:i,isStart:r,isEnd:a},c?(u.leftCol=f-d-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=d),p.push(u));return p},dateToCellOffset:function(t){var e=this.dayToCellOffsets,n=t.diff(this.start,"days");return 0>n?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},renderDrag:function(t,e){return this.renderHighlight(this.eventRangeToSegs(t)),e&&!e.el.closest(this.el).length?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEls),!0):void 0},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){this.renderHighlight(this.eventRangeToSegs(t)),this.renderRangeHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,o=[],s=this.eventsToSegs([e]);s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(e,s){var r,a=t(s),l=t('<div class="fc-helper-skeleton"><table/></div>');r=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",r).find("table").append(i[e].tbodyEl),a.append(l),o.push(l[0])}),this.helperEls=t(o)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var o,s,r,a=[];for(n=this.renderFillSegEls(e,n),o=0;o<n.length;o++)s=n[o],r=this.renderFillRow(e,s,i),this.rowEls.eq(s.row).append(r),a.push(r[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var o,s,r=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),o=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),s=o.find("tr"),a>0&&s.append('<td colspan="'+a+'"/>'),s.append(n.el.attr("colspan",l-a)),r>l&&s.append('<td colspan="'+(r-l)+'"/>'),this.bookendCells(s,e),o}});ue.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),de.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return de.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return de.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,o=this.view,s=t.event,r=o.isEventDraggable(s),a=!e&&s.allDay&&t.isStart&&o.isEventResizableFromStart(s),l=!e&&s.allDay&&t.isEnd&&o.isEventResizableFromEnd(s),d=this.getSegClasses(t,r,a||l),u=Q(this.getEventSkinCss(s)),c="";return d.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(s),n&&(c='<span class="fc-time">'+K(n)+"</span>")),i='<span class="fc-title">'+(K(s.title||"")||"&nbsp;")+"</span>",'<a class="'+d.join(" ")+'"'+(s.url?' href="'+K(s.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+c:c+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>r;)u=(v[o-1]||[])[r],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=t("<td/>"),a.append(u)),g[o][r]=u,v[o][r]=u,r++}var o,s,r,a,l,d,u,c=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=t("<tbody/>"),m=[],g=[],v=[];for(o=0;f>o;o++){if(s=h[o],r=0,a=t("<tr/>"),m.push([]),g.push([]),v.push([]),s)for(l=0;l<s.length;l++){for(d=s[l],i(d.leftCol),u=t('<td class="fc-event-container"/>').append(d.el),d.leftCol!=d.rightCol?u.attr("colspan",d.rightCol-d.leftCol+1):v[o][r]=u;r<=d.rightCol;)g[o][r]=u,m[o][r]=d,r++;a.append(u)}i(c),this.bookendCells(a,"eventSkeleton"),p.append(a)}return{row:e,tbodyEl:p,cellMatrix:g,segMatrix:m,segLevels:h,segs:n}},buildSegLevels:function(t){var e,n,i,o=[];for(this.sortSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<o.length&&St(n,o[i]);i++);n.level=i,(o[i]||(o[i]=[])).push(n)}for(i=0;i<o.length;i++)o[i].sort(_t);return o},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),ue.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)),n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){s=Math.max(s,t(n).outerHeight())}var i,o,s,r=this.rowEls.eq(e),a=r.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;i<l.length;i++)if(o=l.eq(i).removeClass("fc-limited"),s=0,o.find("> td > :first-child").each(n),o.position().top+s>a)return i;return!1},limitRow:function(e,n){function i(i){for(;i>x;)o=w.getCell(e,x),u=w.getCellSegs(o,n),u.length&&(f=r[n-1][x],b=w.renderMoreLink(o,u),y=t("<div/>").append(b),f.append(y),C.push(y[0])),x++}var o,s,r,a,l,d,u,c,h,f,p,m,g,v,y,b,w=this,D=this.rowStructs[e],C=[],x=0;if(n&&n<D.segLevels.length){for(s=D.segLevels[n-1],r=D.cellMatrix,a=D.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;l<s.length;l++){for(d=s[l],i(d.leftCol),h=[],c=0;x<=d.rightCol;)o=this.getCell(e,x),u=this.getCellSegs(o,n),h.push(u),c+=u.length,x++;if(c){for(f=r[n-1][d.leftCol],p=f.attr("rowspan")||1,m=[],g=0;g<h.length;g++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=h[g],o=this.getCell(e,d.leftCol+g),b=this.renderMoreLink(o,[d].concat(u)),y=t("<div/>").append(b),v.append(y),m.push(v[0]),C.push(v[0]);f.addClass("fc-limited").after(t(m)),a.push(f[0])}}i(this.colCnt),D.moreEls=t(C),D.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var r=o.opt("eventLimitClick"),a=e.start,l=t(this),d=i.getCellDayEl(e),u=i.getCellSegs(e),c=i.resliceDaySegs(u,a),h=i.resliceDaySegs(n,a);"function"==typeof r&&(r=o.trigger("eventLimitClick",null,{date:a,dayEl:d,moreEl:l,segs:c,hiddenSegs:h},s)),"popover"===r?i.showSegPopover(e,l,c):"string"==typeof r&&o.calendar.zoomTo(a,r)})},showSegPopover:function(t,e,n){var i,o,s=this,r=this.view,a=e.parent();i=1==this.rowCnt?r.el:this.rowEls.eq(t.row),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:r.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=a.offset().left+a.outerWidth()+1:o.left=a.offset().left-1,this.segPopover=new ne(o),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,o=this.view,s=o.opt("theme"),r=e.start.format(o.opt("dayPopoverFormat")),a=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+K(r)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)n[i].cell=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),o=n.clone().stripTime(),s=o.clone().add(1,"days"),r={start:o,end:s};return e=this.eventsToSegs(i,function(t){var e=O(t,r);return e?[e]:[]}),this.sortSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,o=e||0,s=[];o<i.length;)n=i[o][t.col],n&&s.push(n),o++;return s}});var ce=de.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,colDates:null,labelFormat:null,labelInterval:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){de.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t){return this.bgCellHtml(t)},slatRowHtml:function(){for(var t,n,i,o=this.view,s=this.isRTL,r="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),n=et(N(a,this.labelInterval)),i='<td class="fc-axis fc-time '+o.widgetContentClass+'" '+o.axisStyleAttr()+">"+(n?"<span>"+K(t.format(this.labelFormat))+"</span>":"")+"</td>",r+="<tr "+(n?"":'class="fc-minor"')+">"+(s?"":i)+'<td class="'+o.widgetContentClass+'"/>'+(s?i:"")+"</tr>",a.add(this.slotDuration);return r},processOptions:function(){var n,i=this.view,o=i.opt("slotDuration"),s=i.opt("snapDuration");o=e.duration(o),s=s?e.duration(s):o,this.slotDuration=o,this.snapDuration=s,this.cellDuration=s,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(o)},computeLabelInterval:function(t){var n,i,o;for(n=Te.length-1;n>=0;n--)if(i=e.duration(Te[n]),o=N(i,t),et(o)&&o>1)return i;return e.duration(t)},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},rangeUpdated:function(){var t,e=this.view,n=[];for(t=this.start.clone();t.isBefore(this.end);)n.push(t.clone()),t.add(1,"day"),t=e.skipHiddenDays(t);this.isRTL&&n.reverse(),this.colDates=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(t){var e=this.colDates[t.col],n=this.computeSnapTime(t.row);return e=this.view.calendar.rezoneDate(e),e.time(n),e},getColEl:function(t){return this.dayEls.eq(t)},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},rangeToSegs:function(t){var e,n,i,o,s=this.colCnt,r=[];for(t={start:t.start.clone().stripZone(),end:t.end.clone().stripZone()},n=0;s>n;n++)i=this.colDates[n],o={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=O(t,o),e&&(e.col=n,r.push(e));return r},updateSize:function(t){this.computeSlatTops(),t&&this.updateSegVerticals()},computeRowCoords:function(){var t,e,n=this.el.offset().top,i=[];for(t=0;t<this.rowCnt;t++)e={top:n+this.computeTimeTop(this.computeSnapTime(t))},t>0&&(i[t-1].bottom=e.top),i.push(e);return e.bottom=e.top+this.computeTimeTop(this.computeSnapTime(t)),i},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,o,s=(t-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(this.slatEls.length,s),e=Math.floor(s),n=s-e,i=this.slatTops[e],n?(o=this.slatTops[e+1],i+(o-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,o){e=t(o).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e){return e?(this.renderRangeHelper(t,e),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.eventRangeToSegs(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){this.renderRangeHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(e,n){var i,o,s,r,a=this.eventsToSegs([e]);for(a=this.renderFgSegEls(a),i=this.renderSegTable(a),o=0;o<a.length;o++)s=a[o],n&&n.col===s.col&&(r=n.el,s.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},unrenderHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderRangeHelper(t):this.renderHighlight(this.selectionRangeToSegs(t))},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderFill:function(e,n,i){var o,s,r,a,l,d,u,c,h,f;if(n.length){for(n=this.renderFillSegEls(e,n),o=this.groupSegCols(n),i=i||e.toLowerCase(),s=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),r=s.find("tr"),a=0;a<o.length;a++)if(l=o[a],d=t("<td/>").appendTo(r),l.length)for(u=t('<div class="fc-'+i+'-container"/>').appendTo(d),c=this.colDates[a],h=0;h<l.length;h++)f=l[h],u.append(f.el.css({top:this.computeDateTop(f.start,c),bottom:-this.computeDateTop(f.end,c)}));this.bookendCells(r,e),this.el.append(s),this.elsByFill[e]=s}return n}});ce.mixin({eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},unrenderFgSegs:function(t){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,o,s,r,a,l=t("<table><tr/></table>"),d=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),s=0;s<n.length;s++){for(r=n[s],this.placeSlotSegs(r),a=t('<div class="fc-event-container"/>'),i=0;i<r.length;i++)o=r[i],o.el.css(this.generateSegPositionCss(o)),o.bottom-o.top<30&&o.el.addClass("fc-short"),a.append(o.el);d.append(t("<td/>").append(a))}return this.bookendCells(d,"eventSkeleton"),l},placeSlotSegs:function(t){var e,n,i;if(this.sortSegs(t),e=kt(t),Et(e),n=e[0]){for(i=0;i<n.length;i++)Mt(n[i]);for(i=0;i<n.length;i++)this.computeSlotSegCoords(n[i],0,0)}},computeSlotSegCoords:function(t,e,n){var i,o=t.forwardSegs;if(void 0===t.forwardCoord)for(o.length?(this.sortForwardSlotSegs(o),this.computeSlotSegCoords(o[0],e+1,n),t.forwardCoord=o[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<o.length;i++)this.computeSlotSegCoords(o[i],0,t.forwardCoord)},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;t<e.length;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,o,s=this.view,r=t.event,a=s.isEventDraggable(r),l=!e&&t.isStart&&s.isEventResizableFromStart(r),d=!e&&t.isEnd&&s.isEventResizableFromEnd(r),u=this.getSegClasses(t,a,l||d),c=Q(this.getEventSkinCss(r));return u.unshift("fc-time-grid-event","fc-v-event"),s.isMultiDayEvent(r)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),o=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(r),i=this.getEventTimeText(r,"LT"),o=this.getEventTimeText(r,null,!1)),'<a class="'+u.join(" ")+'"'+(r.url?' href="'+K(r.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+K(o)+'" data-full="'+K(i)+'"><span>'+K(n)+"</span></div>":"")+(r.title?'<div class="fc-title">'+K(r.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(d?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),o=t.backwardCoord,s=t.forwardCoord,r=this.generateSegVerticalCss(t);return i&&(s=Math.min(1,o+2*(s-o))),this.isRTL?(e=1-s,n=o):(e=o,n=1-s),r.zIndex=t.level+1,r.left=100*e+"%",r.right=100*n+"%",i&&t.forwardPressure&&(r[this.isRTL?"marginLeft":"marginRight"]=20),r},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},sortForwardSlotSegs:function(t){t.sort(nt(this,"compareForwardSlotSegs"))},compareForwardSlotSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareSegs(t,e)}});var he=Lt.View=vt.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,eventOrderSpecs:null,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(t,n,i,o){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=o||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=_(this.opt("eventOrder")),this.documentMousedownProxy=nt(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=A(this.intervalDuration),o=t.clone().startOf(i),s=o.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(o.stripTime(),s.stripTime()):(o.hasTime()||(o=this.calendar.rezoneDate(o)),s.hasTime()||(s=this.calendar.rezoneDate(s))),e=o.clone(),e=this.skipHiddenDays(e),n=s.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:o,intervalEnd:s,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),ht(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var n=this,i=null;return this.displaying&&(i=this.queryScroll()),this.clear().then(function(){return n.displaying=t.when(n.displayView(e)).then(function(){n.forceScroll(n.computeInitialScroll(i)),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?n.then(function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours()},clearView:function(){this.unselect(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},renderBusinessHours:function(){},unrenderBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){t(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){t(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeScrollerHeight:function(t){var e,n,i=this.scrollerEl;return e=this.el.add(i),e.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),e.css({position:"",left:""}),t-n},computeInitialScroll:function(t){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(t){return this.scrollerEl?this.scrollerEl.scrollTop(t):void 0},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return Z(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,o){var s=this.calendar,r=s.mutateEvent(t,e,n),a=function(){r.undo(),s.reportEventChange()};this.triggerEventDrop(t,r.dateDelta,a,i,o),s.reportEventChange()},triggerEventDrop:function(t,e,n,i,o){this.trigger("eventDrop",i[0],t,e,n,o,{})},reportExternalDrop:function(e,n,i,o,s){var r,a,l=e.eventProps;l&&(r=t.extend({},l,n),a=this.calendar.renderEvent(r,e.stick)[0]),this.triggerExternalDrop(a,n,i,o,s)},triggerExternalDrop:function(t,e,n,i,o){this.trigger("drop",n[0],e.start,i,o),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return Z(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,o){var s=this.calendar,r=s.mutateEvent(t,e,n),a=function(){r.undo(),s.reportEventChange()};this.triggerEventResize(t,r.durationDelta,a,i,o),s.reportEventChange()},triggerEventResize:function(t,e,n,i,o){this.trigger("eventResize",i[0],t,e,n,o,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,t.start,t.end,e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&D(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,t.start,n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],o=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;7>e;e++)(i[e]=-1!==t.inArray(e,n))||o++;if(!o)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,o=null;return i&&(o=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&o.add(1,"days")),(!i||n>=o)&&(o=n.clone().add(1,"days")),{start:n,end:o}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),fe=Lt.Calendar=vt.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:It,initialize:function(){},initOptions:function(t){var e,o,s,r;t=i(t),e=t.lang,o=pe[e],o||(e=fe.defaults.lang,o=pe[e]||{}),s=Z(t.isRTL,o.isRTL,fe.defaults.isRTL),r=s?fe.rtlDefaults:{},this.dirDefaults=r,this.langDefaults=o,this.overrides=t,this.options=n([fe.defaults,r,o,t]),Ht(this.options),this.viewSpecCache={}},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,o;if(-1!=t.inArray(e,Wt))for(n=this.header.getViewsWithButtons(),t.each(Lt.views,function(t){n.push(t)}),i=0;i<n.length;i++)if(o=this.getViewSpec(n[i]),o&&o.singleUnit==e)return o},buildViewSpec:function(t){for(var i,o,s,r,a=this.overrides.views||{},l=[],d=[],u=[],c=t;c;)i=Yt[c],o=a[c],c=null,"function"==typeof i&&(i={"class":i}),i&&(l.unshift(i),d.unshift(i.defaults||{}),s=s||i.duration,c=c||i.type),o&&(u.unshift(o),s=s||o.duration,c=c||o.type);return i=z(l),i.type=t,!!i["class"]&&(s&&(s=e.duration(s),s.valueOf()&&(i.duration=s,r=A(s),1===s.as(r)&&(i.singleUnit=r,u.unshift(a[r]||{})))),i.defaults=n(d),i.overrides=n(u),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i)},buildViewSpecOptions:function(t){t.options=n([fe.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides]),Ht(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(fe.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e["class"](this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectRange:function(t,e){return t=this.moment(t),e=e?this.moment(e):t.hasTime()?t.clone().add(this.defaultTimedEventDuration):t.clone().add(this.defaultAllDayEventDuration),{start:t,end:e}}});fe.mixin(ee),fe.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},fe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},fe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var pe=Lt.langs={};Lt.datepickerLang=function(e,n,i){var o=pe[e]||(pe[e]={});o.isRTL=i.isRTL,o.weekNumberTitle=i.weekHeader,t.each(me,function(t,e){o[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Lt.lang=function(e,i){var o,s;o=pe[e]||(pe[e]={}),i&&(o=pe[e]=n([o,i])),s=At(e),t.each(ge,function(t,e){null==o[t]&&(o[t]=e(s,o))}),fe.defaults.lang=e};var me={buttonText:function(t){return{prev:X(t.prevText),next:X(t.nextText),today:X(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]";
}},ge={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},ve={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Lt.lang("en",fe.englishDefaults),Lt.sourceNormalizers=[],Lt.sourceFetchers=[];var ye={dataType:"json",cache:!1},be=1;fe.prototype.getPeerEvents=function(t,e){var n,i,o=this.getEventCache(),s=[];for(n=0;n<o.length;n++)i=o[n],t&&t._id===i._id||s.push(i);return s};var we=he.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new ue(this),this.coordMap=this.dayGrid.coordMap},setRange:function(t){he.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=he.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+K(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(t,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t){var e,n=t.start;return this.dayNumbersVisible?(e=this.dayGrid.getDayClasses(n),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=u(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.removeSegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&c(this.scrollerEl,n)&&(o(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n))},setGridHeight:function(t,e){e?d(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),De=we.extend({computeRange:function(t){var e,n=we.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Yt.basic={"class":we},Yt.basicDay={type:"basic",duration:{days:1}},Yt.basicWeek={type:"basic",duration:{weeks:1}},Yt.month={"class":De,duration:{months:1},defaults:{fixedWeekCount:!0}};var Ce=he.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new ce(this),this.opt("allDaySlot")?(this.dayGrid=new ue(this),this.coordMap=new oe([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(t){he.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e;return this.opt("weekNumbers")?(t=this.timeGrid.getCell(0).start,e=t.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+K(e)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||K(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){this.timeGrid.updateSize(t),he.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=u(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=xe),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),c(this.scrollerEl,i)?(o(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},renderEvents:function(t){var e,n,i=[],o=[],s=[];for(n=0;n<t.length;n++)t[n].allDay?i.push(t[n]):o.push(t[n]);e=this.timeGrid.renderEvents(o),this.dayGrid&&(s=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),xe=5,Te=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Yt.agenda={"class":Ce,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Yt.agendaDay={type:"agenda",duration:{days:1}},Yt.agendaWeek={type:"agenda",duration:{weeks:1}},Lt}),!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?n[1]:n[2]}function i(t,e,i){var o={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===i?e?"минута":"минуту":t+" "+n(o[i],+t)}function o(t,e){var n={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative";return n[i][t.month()]}function s(t,e){var n={nominative:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(e)?"accusative":"nominative";return n[i][t.month()]}function r(t,e){var n={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},i=/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/.test(e)?"accusative":"nominative";return n[i][t.day()]}(e.defineLocale||e.lang).call(e,"ru",{months:o,monthsShort:s,weekdays:r,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:i,mm:i,h:"час",hh:i,d:"день",dd:i,M:"месяц",MM:i,y:"год",yy:i},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(t){return/^(дня|вечера)$/.test(t)},meridiem:function(t,e,n){return 4>t?"ночи":12>t?"утра":17>t?"дня":"вечера"},ordinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:7}}),t.fullCalendar.datepickerLang("ru","ru",{closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}),t.fullCalendar.lang("ru",{buttonText:{month:"Месяц",week:"Неделя",day:"День",list:"Повестка дня"},allDayText:"Весь день",eventLimitText:function(t){return"+ ещё "+t}})}),$.isBlank=function(t){return!t||""===$.trim(t)||$.isEmptyObject(t)};var delay=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}();$(document).ready(function(){var t=3e5,e=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i={timer:null,start:function(){this.timer=setInterval($.SystemEvents.ReloadEvents,5e3)},stop:function(){clearInterval(this.timer)}},o={timer:null,start:function(){this.timer=setInterval(function(){n>0&&$.ionSound.play("ass")},t)},stop:function(){clearInterval(this.timer)}};$.SystemEvents={Init:function(){this.InitActions(),this.InitDynamicData(),this.InitTemplate()},InitActions:function(){ion.sound({sounds:[{name:"ass"}],volume:.5,path:BaseUrl+"public/ion.sound/sounds/"})},InitDynamicData:function(){this.ReloadEvents(),i.start(),o.start()},InitTemplate:function(){},ReloadEvents:function(){$.get(BaseUrl+"events",function(t){var i=0,o=0;$.each(t,function(t,e){var n=parseInt(e.replay)||0,s=parseInt(e.once)||0,r=n+s,a=$("#mark_"+t);if(a.html(r),a.css("display",r>0?"block":"none"),"tasks"==t){var l=parseInt(e.tasks)||0,d=parseInt(e.undone)||0,u=parseInt(e.comment)||0,c=$("#mark_task_"+t);c.html(l),c.css("display",l>0?"block":"none");var h=$("#mark_undone_"+t);h.html(d),h.css("display",d>0?"block":"none");var f=$("#mark_comment_"+t);f.html(u),f.css("display",u>0?"block":"none"),o+=l,i+=l+u+d}o+=n,i+=r}),i>e&&$.ionSound.play("ass"),e=i,n=o})}},$.SystemEvents.Init()}),$("input:checked").change(),$(document).on("click",'.assol-btn-select .dropdown-menu [role="menuitem"]',function(t){var e=$(this).parents(".assol-btn-select");e.find(".dropdown-menu li.selected").removeClass("selected"),$(this).closest("li").addClass("selected"),e.find(".assol-btn-select-checked").html($(this).html()),e.find(".pseudo-select-hidden-input").val($(this).attr("data-value"))}),$(document).on("focus",".date-field>input",function(t){$(this).datetimepicker({format:"DD.MM.YYYY",locale:"ru",widgetPositioning:{horizontal:"auto",vertical:"bottom"}})}),$(document).on("click","#popup",function(t){var e=t.target;"popup"==$(e).attr("id")&&$("#popup .close").trigger("click")}),$(document).on("click","#popup .close",function(t){$("body").removeClass("popup-show"),$("#popup").hide()}),$(document).on("click",".show-full-news",function(t){$(this).parents(".bodyNewsContent-in").addClass("show-full")});var dayReportsTables=$(".day-reports-tables"),dayMainFixedTable=$(".day-main-fixed-table");if(dayReportsTables.length>0){var maxScrollLeft=dayReportsTables[0].scrollWidth-dayReportsTables[0].clientWidth,widthBlock=$(".day-total-table").width(),stopScrollWidth=maxScrollLeft-widthBlock;dayReportsTables.scroll(function(){var t=dayReportsTables.scrollLeft();t>stopScrollWidth?dayMainFixedTable.hasClass("hide")||dayMainFixedTable.addClass("hide"):dayMainFixedTable.hasClass("hide")&&dayMainFixedTable.removeClass("hide")})}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return e.start(t(n.currentTarget)),!1})},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function n(t){i.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var i=this,o=t(window);o.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var s,r=0,a=e.attr("data-lightbox");if(a){s=t(e.prop("tagName")+'[data-lightbox="'+a+'"]');for(var l=0;l<s.length;l=++l)n(t(s[l])),s[l]===e[0]&&(r=l)}else if("lightbox"===e.attr("rel"))n(e);else{s=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var d=0;d<s.length;d=++d)n(t(s[d])),s[d]===e[0]&&(r=d)}var u=o.scrollTop()+this.options.positionFromTop,c=o.scrollLeft();this.$lightbox.css({top:u+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(r)},e.prototype.changeImage=function(e){var n=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var s,r,a,l,d,u,c;i.attr("src",n.album[e].link),s=t(o),i.width(o.width),i.height(o.height),n.options.fitImagesInViewport&&(c=t(window).width(),u=t(window).height(),d=c-n.containerLeftPadding-n.containerRightPadding-20,l=u-n.containerTopPadding-n.containerBottomPadding-120,n.options.maxWidth&&n.options.maxWidth<d&&(d=n.options.maxWidth),n.options.maxHeight&&n.options.maxHeight<d&&(l=n.options.maxHeight),(o.width>d||o.height>l)&&(o.width/d>o.height/l?(a=d,r=parseInt(o.height/(o.width/a),10),i.width(a),i.height(r)):(r=l,a=parseInt(o.width/(o.height/r),10),i.width(a),i.height(r)))),n.sizeContainer(i.width(),i.height())},o.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function n(){i.$lightbox.find(".lb-dataContainer").width(r),i.$lightbox.find(".lb-prevLink").height(a),i.$lightbox.find(".lb-nextLink").height(a),i.showImage()}var i=this,o=this.$outerContainer.outerWidth(),s=this.$outerContainer.outerHeight(),r=t+this.containerLeftPadding+this.containerRightPadding,a=e+this.containerTopPadding+this.containerBottomPadding;o!==r||s!==a?this.$outerContainer.animate({width:r,height:a},this.options.resizeDuration,"swing",function(){n()}):n()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(e){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,n=37,i=39,o=t.keyCode,s=String.fromCharCode(o).toLowerCase();o===e||s.match(/x|o|c/)?this.end():"p"===s||o===n?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===s||o===i)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new e});